<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width initial-scale=1" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<title>安装和配置Elasticsearch | Magento 2 Developer Documentation</title>
	<meta name="description" content="Magento 2 Developer Documentation.
">

	<link rel="stylesheet" href="/assets/css/app.css" />
	<link rel="stylesheet" href="/assets/css/print.css" media="print"/>

	<link rel="stylesheet" href="/common/css/devdocs.css" />

	<script>
  var baseUrl = "";
  var algolia = {
    id : "E642SEDTHL",
    index:  "devdocs",
    key:  "d2d0f33ab73e291ef8d88d8b565e754c"
  };
</script>




	<link rel="canonical" href="/guides/v2.2/config-guide/elasticsearch/es-overview.html">

	<link rel="shortcut icon" type="image/vnd.microsoft.icon" href="https://magento.com/favicon.ico">
	<link rel="apple-touch-icon" type="image/png" href="https://magento.com/apple-touch-icon.png">
	<link rel="apple-touch-icon" type="image/png" sizes="57x57" href="https://magento.com/apple-touch-icon-57x57.png">
	<link rel="apple-touch-icon" type="image/png" sizes="72x72" href="https://magento.com/apple-touch-icon-72x72.png">
	<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="https://magento.com/apple-touch-icon-76x76.png">
	<link rel="apple-touch-icon" type="image/png" sizes="114x114" href="https://magento.com/apple-touch-icon-114x114.png">
	<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="https://magento.com/apple-touch-icon-120x120.png">
	<link rel="apple-touch-icon" type="image/png" sizes="144x144" href="https://magento.com/apple-touch-icon-144x144.png">
	<link rel="apple-touch-icon" type="image/png" sizes="152x152" href="https://magento.com/apple-touch-icon-152x152.png">
	<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="https://magento.com/apple-touch-icon-180x180.png">

</head>
<body class="layout-default">

	<header class="site-header">

		<nav class="site-nav">

  <div class="menu-btn">
    <a id="menu-btn" class="menu-trigger menu-icon" href="#nav-main" aria-haspopup="true" aria-controls="nav-main"></a>
  </div>

  <div class="nav-container">

    <a class="logo" href="/">
      <img src="/assets/i/m-logo.svg" alt=""><img src="/assets/i/magento-logo.svg" alt="Magento" class="magento-logo" />
      <span class="site-logo">DevDocs</span>
    </a>

    <div id="nav-main" class="nav-main-wrap" aria-labelledby="menu-btn">
      
<div class="version-switcher dropdown" data-version="2.2">
	<button id="version-switcher-button" class="btn dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
    Magento 2.2
	</button>

	<ul class="dropdown-menu dropdown-menu-left" aria-labelledby="version-switcher-button">
	
		<li><a class="dropdown-item" data-proofer-ignore href="/guides/v2.0/config-guide/elasticsearch/es-overview.html">Magento 2.0</a></li>
	
		<li><a class="dropdown-item" data-proofer-ignore href="/guides/v2.1/config-guide/elasticsearch/es-overview.html">Magento 2.1</a></li>
	
		<li><a class="dropdown-item" data-proofer-ignore href="/guides/v2.2/config-guide/elasticsearch/es-overview.html">Magento 2.2</a></li>
	
		<li><a class="dropdown-item" data-proofer-ignore href="/guides/v2.3/config-guide/elasticsearch/es-overview.html">Magento 2.3 Pre-release</a></li>
	
  </ul>

</div>


      <!-- Main Navigation -->
<ul class="nav-main" role="menubar">

  <li class="nav-main-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span tabindex="-1">部署</span>

    <div class="nav-popup" role="menu" aria-hidden="true">
      <ul>
          <li><a href="/guides/v2.2/install-gde/bk-install-guide.html">安装向导</a></li>
          
          <li><a href="/guides/v2.2/comp-mgr/bk-compman-upgrade-guide.html">扩展安装及系统升级手册</a></li>
          
          <li><a href="/guides/v2.2/config-guide/bk-config-guide.html">配置手册</a></li>
          
          <li><a href="/guides/v2.2/performance-best-practices/index.html">高效实践</a></li>
          
          <li><a href="/guides/v2.2/migration/bk-migration-guide.html">迁移指引</a></li>
          <li><a href="/guides/v2.2/cloud/bk-cloud.html">上云指引</a></li>
          <li><a href="/magento-release-information.html">版本日志</a></li>
      </ul>
    </div>

  </li>


  <li class="nav-main-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span tabindex="-1">开发</span>

    <div class="nav-popup" role="menu" aria-hidden="true">

      <div class="nav-section">
        <div class="nav-section-title">服务端</div>
        <ul>
          <li><a href="/guides/v2.2/architecture/bk-architecture.html">架构说明</a></li>
          <li><a href="/guides/v2.2/extension-dev-guide/bk-extension-dev-guide.html">PHP开发文档</a></li>
          <li><a href="/guides/v2.2/ext-best-practices/bk-ext-best-practices.html">扩展开发实践</a></li>
          <li><a href="/guides/v2.2/mrg/intro.html">各模块介绍</a></li>
          <li><a href="/guides/v2.2/coding-standards/bk-coding-standards.html">编码规范</a></li>
          <li><a href="/guides/v2.2/contributor-guide/contributing.html">贡献指引</a></li>
        </ul>
      </div>

      <div class="nav-section">
        <div class="nav-section-title">前端</div>
        <ul>
          <li class=""><a href="/guides/v2.2/frontend-dev-guide/bk-frontend-dev-guide.html">前端工程师手册</a></li>
          
          <li><a href="/guides/v2.2/ui_comp_guide/bk-ui_comps.html">UI组件手册</a></li>
          
          <li><a href="/guides/v2.2/javascript-dev-guide/bk-javascript-dev-guide.html">JavaScript开发手册</a></li>
          <li><a href="/guides/v2.2/pattern-library/bk-pattern.html">管理面板设计模式及所用库</a></li>
          <li><a href="/guides/v2.2/design-styleguide/bk-styleguide.html">管理面板样式手册</a></li>
          <li><a href="https://magento-research.github.io/pwa-devdocs/">PWA Studios</a></li>
        </ul>
      </div>

      <div class="nav-section">
        <div class="nav-section-title"><abbr>API</abbr></div>
        <ul>
          <li><a href="/guides/v2.2/get-started/bk-get-started-api.html">Web APIs起步</a></li>
          <li><a href="/guides/v2.2/rest/bk-rest.html">REST API参考</a></li>
          <li><a href="/guides/v2.2/soap/bk-soap.html">SOAP API参考</a></li>
          
          
          <li><a href="/guides/v2.2/marketplace/eqp/api.html">Marketplace EQP API Reference</a></li>
          
        </ul>
      </div>
    </div>

  </li>


  <li class="nav-main-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span tabindex="-1">测试</span>

    <div class="nav-popup" role="menu" aria-hidden="true">
      <ul>
        <li><a href="/guides/v2.2/test/testing.html">Magento测试手册</a></li>
        
        <li><a href="/guides/v2.2/magento-functional-testing-framework/release-2/introduction.html">功能验收测试(新!)</a></li>
        
        <li><a href="/guides/v2.2/mtf/mtf_introduction.html">功能测试</a></li>
        <li><a href="/guides/v2.2/test/integration/integration_test_execution.html">集成测试</a></li>
        <li><a href="/guides/v2.2/test/js/jasmine.html">JavaScript单元测试</a></li>
        <li><a href="/guides/v2.2/test/unit/unit_test_execution.html">PHP单元测试</a></li>
        <li><a href="/guides/v2.2/get-started/web-api-functional-testing.html">Web API功能测试</a></li>
      </ul>
    </div>

  </li>


  <li class="nav-main-separator"></li>


  <li class="nav-main-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span tabindex="-1">功能文档</span>

    <div class="nav-popup" role="menu" aria-hidden="true">
      <ul>
          
          <li class="leaf"><a href="/guides/v2.2/advanced-reporting/overview.html">高级报表</a></li>
          
        
        <li class="leaf"><a href="/guides/v2.2/b2b/bk-b2b.html">B2B</a></li>
        
        <li><a href="/guides/v2.2/howdoi/checkout/checkout_overview.html">Checkout</a></li>
        <li><a href="/guides/v2.2/payments-integrations/bk-payments-integrations.html">支付集成</a></li>
        
          <li><a href="/guides/v2.2/extension-dev-guide/staging.html">Staging</a></li>
        
      </ul>
    </div>

  </li>


  <li class="nav-main-item"  tabindex="0" role="menuitem" aria-haspopup="true">
    <span tabindex="-1">指引</span>

    <div class="nav-popup" role="menu" aria-hidden="true">
      <ul>
        <li><a href="/guides/v2.2/howdoi/bk-how-do-i.html">如何</a></li>
        
        <li><a  data-proofer-ignore href="/guides/v2.2/get-started/order-tutorial/order-intro.html">使用EST APIs处理订单</a></li>
        

        <li><a href="/videos/">视频教程</a></li>
      </ul>
    </div>

  </li>

</ul><!-- /.nav-main -->

    </div>

    <div class="search-btn">
      <a class="search-trigger search-icon" href="#"></a>
    </div>

    <form class="quick-search" action="/guides/v2.2/search.html" method="get" novalidate="novalidate">
      <input type="search" name="q" placeholder="Search" />
      <a href="#" class="quick-search-close">&times;</a>
    </form>

  </div>

</nav><!-- #site-nav -->
<div class="nav-main-fader"></div>


	</header>

	<div class="global-wrapper">

		<div class="main-container">
			<a id="main-content"></a>


<div class="content-container">

	<!-- sidebar -->
<aside class="sidebar">
	<a href="#" data-proofer-ignore class="toc-toggler">内容表格</a>
	<div class="sidebar-wrapper">

		

		<h4 class="guide-title">配置手册</h4>
		<div class="collapsible-navigation">
		    <ul>
		    
		    	

<li class="nav-level1  " id="介绍">
    

    
    <a href="/guides/v2.2/config-guide/bk-config-guide.html">介绍</a>
    

    
</li>


		    
		    	

<li class="nav-level1  " id="安全设置">
    

    
    <a href="/guides/v2.2/config-guide/secy/secy.html">安全设置</a>
    

    
    <ul>
        
        
        
        <li class="nav-level2  " id="确保cron.php文件在浏览器上的安全">

            

            
            <a href="/guides/v2.2/config-guide/secy/secy-cron.html">确保cron.php文件在浏览器上的安全</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="x-frame-options头">

            

            
            <a href="/guides/v2.2/config-guide/secy/secy-xframe.html">X-Frame-Options头</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="防止缓存中毒">

            

            
            <a href="/guides/v2.2/config-guide/secy/secy-headers.html">防止缓存中毒</a>
            

            
        </li>
        
        
    </ul>
    
</li>


		    
		    	

<li class="nav-level1  " id="magento初始化和引导">
    

    
    <a href="/guides/v2.2/config-guide/bootstrap/magento-bootstrap.html">Magento初始化和引导</a>
    

    
    <ul>
        
        
        
        <li class="nav-level2  " id="设置引导参数">

            

            
            <a href="/guides/v2.2/config-guide/bootstrap/magento-how-to-set.html">设置引导参数</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="关于magento的模式">

            

            
            <a href="/guides/v2.2/config-guide/bootstrap/magento-modes.html">关于Magento的模式</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="自定义基础目录路径(mage_dirs)">

            

            
            <a href="/guides/v2.2/config-guide/bootstrap/mage-dirs.html">自定义基础目录路径(MAGE_DIRS)</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="开启扼要记录(mage_profiler)">

            

            
            <a href="/guides/v2.2/config-guide/bootstrap/mage-profiler.html">开启扼要记录(MAGE_PROFILER)</a>
            

            
        </li>
        
        
    </ul>
    
</li>


		    
		    	

<li class="nav-level1  " id="管道部署">
    

    
    <a href="/guides/v2.2/config-guide/deployment/">管道部署</a>
    

    
    <ul>
        
        
        
        <li class="nav-level2  " id="overview">

            

            
            <a href="/guides/v2.2/config-guide/deployment/pipeline/">Overview</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="技术细节">

            

            
            <a href="/guides/v2.2/config-guide/deployment/pipeline/technical-details.html">技术细节</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="开发系统设置">

            

            
            <a href="/guides/v2.2/config-guide/deployment/pipeline/development-system.html">开发系统设置</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="构建系统设置">

            

            
            <a href="/guides/v2.2/config-guide/deployment/pipeline/build-system.html">构建系统设置</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="生产系统设置">

            

            
            <a href="/guides/v2.2/config-guide/deployment/pipeline/production-system.html">生产系统设置</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="文件系统访问权限">

            

            
            <a href="/guides/v2.2/config-guide/prod/prod_file-sys-perms.html">文件系统访问权限</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="examples">

            

            
            <span>Examples</span>
            

            
            <ul>
                

                
                
                <li class="nav-level3  " id="共享配置">
                    

                    
                    <a  href="/guides/v2.2/config-guide/deployment/pipeline/example/shared-configuration.html">共享配置</a>
                    

                    
                </li>
                
                

                
                
                <li class="nav-level3  " id="使用命令行命令">
                    

                    
                    <a  href="/guides/v2.2/config-guide/deployment/pipeline/example/cli.html">使用命令行命令</a>
                    

                    
                </li>
                
                

                
                
                <li class="nav-level3  " id="使用环境变量">
                    

                    
                    <a  href="/guides/v2.2/config-guide/deployment/pipeline/example/environment-variables.html">使用环境变量</a>
                    

                    
                </li>
                
                

                
                
                <li class="nav-level3  " id="使用rsync同步命令">
                    

                    
                    <a  href="/guides/v2.2/config-guide/deployment/pipeline/example/rsync.html">使用rsync同步命令</a>
                    

                    
                </li>
                
                
            </ul>
            
        </li>
        
        
    </ul>
    
</li>


		    
		    	

<li class="nav-level1  " id="单机部署">
    

    
    <a href="/guides/v2.2/config-guide/deployment/single-machine.html">单机部署</a>
    

    
</li>


		    
		    	

<li class="nav-level1  " id="命令行配置">
    

    
    <a href="/guides/v2.2/config-guide/cli/config-cli.html">命令行配置</a>
    

    
    <ul>
        
        
        
        <li class="nav-level2  " id="命令行配置起步">

            

            
            <a href="/guides/v2.2/config-guide/cli/config-cli-subcommands.html">命令行配置起步</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="管理缓存">

            

            
            <a href="/guides/v2.2/config-guide/cli/config-cli-subcommands-cache.html">管理缓存</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="管理索引">

            

            
            <a href="/guides/v2.2/config-guide/cli/config-cli-subcommands-index.html">管理索引</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="配置和执行定时任务">

            

            
            <a href="/guides/v2.2/config-guide/cli/config-cli-subcommands-cron.html">配置和执行定时任务</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="代码编译器">

            

            
            <a href="/guides/v2.2/config-guide/cli/config-cli-subcommands-compiler.html">代码编译器</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="设置magento的模式">

            

            
            <a href="/guides/v2.2/config-guide/cli/config-cli-subcommands-mode.html">设置Magento的模式</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="统一资源名称(urn)高亮">

            

            
            <a href="/guides/v2.2/config-guide/cli/config-cli-subcommands-urn.html">统一资源名称(URN)高亮</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="依赖报告">

            

            
            <a href="/guides/v2.2/config-guide/cli/config-cli-subcommands-depen.html">依赖报告</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="配置管理">

            

            
            <span>配置管理</span>
            

            
            <ul>
                

                
                
                <li class="nav-level3  " id="导出配置">
                    

                    
                    <a  href="/guides/v2.2/config-guide/cli/config-cli-subcommands-config-mgmt-export.html">导出配置</a>
                    

                    
                </li>
                
                

                
                
                <li class="nav-level3  " id="设置配置值">
                    

                    
                    <a  href="/guides/v2.2/config-guide/cli/config-cli-subcommands-config-mgmt-set.html">设置配置值</a>
                    

                    
                </li>
                
                

                
                
                <li class="nav-level3  " id="从配置文件导入数据">
                    

                    
                    <a  href="/guides/v2.2/config-guide/cli/config-cli-subcommands-config-mgmt-import.html">从配置文件导入数据</a>
                    

                    
                </li>
                
                
            </ul>
            
        </li>
        
        
        
        
        <li class="nav-level2  " id="翻译字典和语言包">

            

            
            <a href="/guides/v2.2/config-guide/cli/config-cli-subcommands-i18n.html">翻译字典和语言包</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="静态视图文件部署">

            

            
            <span>静态视图文件部署</span>
            

            
            <ul>
                

                
                
                <li class="nav-level3  " id="静态文件部署策略">
                    

                    
                    <a  href="/guides/v2.2/config-guide/cli/config-cli-subcommands-static-deploy-strategies.html">静态文件部署策略</a>
                    

                    
                </li>
                
                

                
                
                <li class="nav-level3  " id="部署静态视图文件">
                    

                    
                    <a  href="/guides/v2.2/config-guide/cli/config-cli-subcommands-static-view.html">部署静态视图文件</a>
                    

                    
                </li>
                
                
            </ul>
            
        </li>
        
        
        
        
        <li class="nav-level2  " id="创建软链接到less文件">

            

            
            <a href="/guides/v2.2/config-guide/cli/config-cli-subcommands-less-sass.html">创建软链接到LESS文件</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="运行单元测试">

            

            
            <a href="/guides/v2.2/config-guide/cli/config-cli-subcommands-test.html">运行单元测试</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="转换布局的xml文件">

            

            
            <a href="/guides/v2.2/config-guide/cli/config-cli-subcommands-layout-xml.html">转换布局的XML文件</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="为性能测试生成数据">

            

            
            <a href="/guides/v2.2/config-guide/cli/config-cli-subcommands-perf-data.html">为性能测试生成数据</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="运行magento支持工具-(仅企业版适用)">

            

            
            <a href="/guides/v2.2/config-guide/cli/config-cli-subcommands-spt-util.html">运行Magento支持工具 (仅企业版适用)</a>
            

            
        </li>
        
        
    </ul>
    
</li>


		    
		    	

<li class="nav-level1  " id="magento配置文件">
    

    
    <a href="/guides/v2.2/config-guide/config/config-magento.html">Magento配置文件</a>
    

    
    <ul>
        
        
        
        <li class="nav-level2  " id="magento的部署配置">

            

            
            <a href="/guides/v2.2/config-guide/config/config-php.html">Magento的部署配置</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="模块配置文件">

            

            
            <a href="/guides/v2.2/config-guide/config/config-files.html">模块配置文件</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="创建或扩展配置类型">

            

            
            <a href="/guides/v2.2/config-guide/config/config-create.html">创建或扩展配置类型</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="禁用模块输出">

            

            
            <a href="/guides/v2.2/config-guide/config/disable-module-output.html">禁用模块输出</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="配置参考">

            

            
            <span>配置参考</span>
            

            
            <ul>
                

                
                
                <li class="nav-level3  " id="敏感的和系统特定的">
                    

                    
                    <a  href="/guides/v2.2/config-guide/prod/config-reference-sens.html">敏感的和系统特定的</a>
                    

                    
                </li>
                
                

                
                
                <li class="nav-level3  " id="支付配置路径参考">
                    

                    
                    <a  href="/guides/v2.2/config-guide/prod/config-reference-payment.html">支付配置路径参考</a>
                    

                    
                </li>
                
                

                
                
                <li class="nav-level3  " id="其它配置路径参考">
                    

                    
                    <a  href="/guides/v2.2/config-guide/prod/config-reference-most.html">其它配置路径参考</a>
                    

                    
                </li>
                
                

                
                
                <li class="nav-level3  " id="magento-commerce-for-b2b-extension-configuration-paths-reference">
                    

                    
                    <a  href="/guides/v2.2/config-guide/prod/config-reference-b2b.html">Magento Commerce for B2B Extension configuration paths reference</a>
                    

                    
                </li>
                
                

                
                
                <li class="nav-level3  " id=".gitignore参考">
                    

                    
                    <a  href="/guides/v2.2/config-guide/prod/config-reference-gitignore.html">.gitignore参考</a>
                    

                    
                </li>
                
                

                
                
                <li class="nav-level3  " id="使用环境变量覆盖配置设置">
                    

                    
                    <a  href="/guides/v2.2/config-guide/prod/config-reference-var-name.html">使用环境变量覆盖配置设置</a>
                    

                    
                </li>
                
                

                
                
                <li class="nav-level3  " id="config.php参考">
                    

                    
                    <a  href="/guides/v2.2/config-guide/prod/config-reference-configphp.html">config.php参考</a>
                    

                    
                </li>
                
                

                
                
                <li class="nav-level3  " id="env.php参考">
                    

                    
                    <a  href="/guides/v2.2/config-guide/prod/config-reference-envphp.html">env.php参考</a>
                    

                    
                </li>
                
                
            </ul>
            
        </li>
        
        
    </ul>
    
</li>


		    
		    	

<li class="nav-level1  " id="配置缓存">
    

    
    <a href="/guides/v2.2/config-guide/cache.html">配置缓存</a>
    

    
    <ul>
        
        
        
        <li class="nav-level2  " id="将缓存前端与缓存类型关联">

            

            
            <a href="/guides/v2.2/config-guide/cache/cache-types.html">将缓存前端与缓存类型关联</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="底层缓存选项">

            

            
            <a href="/guides/v2.2/config-guide/cache/cache-options.html">底层缓存选项</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="静态内容签名">

            

            
            <a href="/guides/v2.2/config-guide/cache/static-content-signing.html">静态内容签名</a>
            

            
        </li>
        
        
    </ul>
    
</li>


		    
		    	

<li class="nav-level1  " id="配置redis">
    

    
    <a href="/guides/v2.2/config-guide/redis/config-redis.html">配置Redis</a>
    

    
    <ul>
        
        
        
        <li class="nav-level2  " id="使用redis作为magento页面缓存和默认缓存">

            

            
            <a href="/guides/v2.2/config-guide/redis/redis-pg-cache.html">使用Redis作为Magento页面缓存和默认缓存</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="使用redis作为session存储">

            

            
            <a href="/guides/v2.2/config-guide/redis/redis-session.html">使用Redis作为Session存储</a>
            

            
        </li>
        
        
    </ul>
    
</li>


		    
		    	

<li class="nav-level1  " id="配置和使用varnish">
    

    
    <a href="/guides/v2.2/config-guide/varnish/config-varnish.html">配置和使用Varnish</a>
    

    
    <ul>
        
        
        
        <li class="nav-level2  " id="安装varnish">

            

            
            <a href="/guides/v2.2/config-guide/varnish/config-varnish-install.html">安装Varnish</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="配置varnish和你的web服务器">

            

            
            <a href="/guides/v2.2/config-guide/varnish/config-varnish-configure.html">配置Varnish和你的web服务器</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="配置magento使用varnish">

            

            
            <a href="/guides/v2.2/config-guide/varnish/config-varnish-magento.html">配置Magento使用Varnish</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="varnish高级配置">

            

            
            <a href="/guides/v2.2/config-guide/varnish/config-varnish-advanced.html">Varnish高级配置</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="how-magento-cache-clearing-works-with-multiple-varnish-instances">

            

            
            <a href="/guides/v2.2/config-guide/varnish/use-multiple-varnish-cache.html">How Magento cache clearing works with multiple Varnish instances</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="最终校验">

            

            
            <a href="/guides/v2.2/config-guide/varnish/config-varnish-final.html">最终校验</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="在varnish下magento的缓存清除是如何工作的">

            

            
            <a href="/guides/v2.2/config-guide/varnish/use-varnish-cache.html">在Varnish下Magento的缓存清除是如何工作的</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="varnish缓存是如何工作的">

            

            
            <a href="/guides/v2.2/config-guide/varnish/use-varnish-cache-how.html">Varnish缓存是如何工作的</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="排除503错误">

            

            
            <a href="/guides/v2.2/config-guide/varnish/tshoot-varnish-503.html">排除503错误</a>
            

            
        </li>
        
        
    </ul>
    
</li>


		    
		    	

<li class="nav-level1  " id="使用memcached做为session存储">
    

    
    <a href="/guides/v2.2/config-guide/memcache/memcache.html">使用memcached做为session存储</a>
    

    
    <ul>
        
        
        
        <li class="nav-level2  " id="在ubuntu上安装、配置和验证memcached">

            

            
            <a href="/guides/v2.2/config-guide/memcache/memcache_ubuntu.html">在Ubuntu上安装、配置和验证memcached</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="在centos上安装、配置和验证memcached">

            

            
            <a href="/guides/v2.2/config-guide/memcache/memcache_centos.html">在CentOS上安装、配置和验证memcached</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="配置magento使用memcached">

            

            
            <a href="/guides/v2.2/config-guide/memcache/memcache_magento.html">配置Magento使用memcached</a>
            

            
        </li>
        
        
    </ul>
    
</li>


		    
		    	

<li class="nav-level1  " id="多站和多店">
    

    
    <a href="/guides/v2.2/config-guide/multi-site/ms_over.html">多站和多店</a>
    

    
    <ul>
        
        
        
        <li class="nav-level2  " id="在管理面板设置多站、多店及网店视图">

            

            
            <a href="/guides/v2.2/config-guide/multi-site/ms_websites.html">在管理面板设置多站、多店及网店视图</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="教程-在nginx下设置多站或多店">

            

            
            <a href="/guides/v2.2/config-guide/multi-site/ms_nginx.html">教程-在nginx下设置多站或多店</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="教程-在apache下设置多站或多店">

            

            
            <a href="/guides/v2.2/config-guide/multi-site/ms_apache.html">教程-在Apache下设置多站或多店</a>
            

            
        </li>
        
        
    </ul>
    
</li>


		    
		    	

<li class="nav-level1  " id="设置自定义的定时任务和任务组(cron)">
    

    
    <a href="/guides/v2.2/config-guide/cron/custom-cron.html">设置自定义的定时任务和任务组(cron)</a>
    

    
    <ul>
        
        
        
        <li class="nav-level2  " id="自定义的定时任务和任务组(cron)参考">

            

            
            <a href="/guides/v2.2/config-guide/cron/custom-cron-ref.html">自定义的定时任务和任务组(cron)参考</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="配置自定义的定时任务和任务组(cron)(教程)">

            

            
            <a href="/guides/v2.2/config-guide/cron/custom-cron-tut.html">配置自定义的定时任务和任务组(cron)(教程)</a>
            

            
        </li>
        
        
    </ul>
    
</li>


		    
		    	

<li class="nav-level1  " id="配置数据库分析器">
    

    
    <a href="/guides/v2.2/config-guide/db-profiler/db-profiler.html">配置数据库分析器</a>
    

    
</li>


		    
		    	

<li class="nav-level1 active " id="安装和配置elasticsearch-(仅企业版适用)">
    

    
    <a href="/guides/v2.2/config-guide/elasticsearch/es-overview.html">安装和配置Elasticsearch (仅企业版适用)</a>
    

    
    <ul>
        
        
        
        <li class="nav-level2  " id="配置nginx和elasticsearch">

            

            
            <a href="/guides/v2.2/config-guide/elasticsearch/es-config-nginx.html">配置nginx和Elasticsearch</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="配置apache和elasticsearch">

            

            
            <a href="/guides/v2.2/config-guide/elasticsearch/es-config-apache.html">配置Apache和Elasticsearch</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="配置elasticsearch停用词">

            

            
            <a href="/guides/v2.2/config-guide/elasticsearch/es-config-stopwords.html">配置Elasticsearch停用词</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="配置magento使用elasticsearch">

            

            
            <a href="/guides/v2.2/config-guide/elasticsearch/configure-magento.html">配置Magento使用Elasticsearch</a>
            

            
        </li>
        
        
    </ul>
    
</li>


		    
		    	

<li class="nav-level1  " id="消息队列-(仅企业版适用)">
    

    
    <a href="/guides/v2.2/config-guide/mq/rabbitmq-overview.html">消息队列 (仅企业版适用)</a>
    

    
    <ul>
        
        
        
        <li class="nav-level2  " id="管理消息队列">

            

            
            <a href="/guides/v2.2/config-guide/mq/manage-mysql.html">管理消息队列</a>
            

            
        </li>
        
        
    </ul>
    
</li>


		    
		    	

		    
		    	

<li class="nav-level1  " id="数据库分库执行方案(仅企业版)">
    

    
    <a href="/guides/v2.2/config-guide/multi-master/multi-master.html">数据库分库执行方案(仅企业版)</a>
    

    
    <ul>
        
        
        
        <li class="nav-level2  " id="自动配置主数据库">

            

            
            <a href="/guides/v2.2/config-guide/multi-master/multi-master_masterdb.html">自动配置主数据库</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="手动配置主数据库">

            

            
            <a href="/guides/v2.2/config-guide/multi-master/multi-master_manual.html">手动配置主数据库</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="数据库分库验证">

            

            
            <a href="/guides/v2.2/config-guide/multi-master/multi-master_verify.html">数据库分库验证</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="设置可选数据库复制">

            

            
            <a href="/guides/v2.2/config-guide/multi-master/multi-master_slavedb.html">设置可选数据库复制</a>
            

            
        </li>
        
        
    </ul>
    
</li>


		    
		    	

<li class="nav-level1  " id="自定义日志">
    

    
    <a href="/guides/v2.2/config-guide/log/log-intro.html">自定义日志</a>
    

    
    <ul>
        
        
        
        <li class="nav-level2  " id="magento日志的更多细节">

            

            
            <a href="/guides/v2.2/config-guide/log/log-magento.html">Magento日志的更多细节</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="示例---记录数据库活动日志">

            

            
            <a href="/guides/v2.2/config-guide/log/log-db.html">示例 - 记录数据库活动日志</a>
            

            
        </li>
        
        
    </ul>
    
</li>


		    
		    	

<li class="nav-level1  " id="如何定位你的session文件">
    

    
    <a href="/guides/v2.2/config-guide/sessions.html">如何定位你的session文件</a>
    

    
</li>


		    
		    	

		    
		    	

		    
		    </ul>
		</div>

	</div>

</aside>
<!-- /sidebar -->


	<section class="content">
		<div class="content-wrap">
			<!-- page-header -->
<section class="page-intro">
	

  <nav class="breadcrumbs">

    <ol class="breadcrumb list-unstyled" vocab="http://schema.org/" typeof="BreadcrumbList">

      <li class="breadcrumb-item"><a class="breadcrumb-item" href="/"><span>首页</span></a></li>

    <!-- Iteration breadcrumb item -->
    
    

    

      <!-- Skip if root -->
      

      <!-- Get breadcrumb title -->
      

      <!-- SEO data -->
      

      <li class="breadcrumb-item" property="itemListElement" typeof="ListItem">

        
          <a property="item" typeof="WebPage" href="/guides/v2.2/config-guide/bk-config-guide.html">
            <span property="name">配置手册</span>
          </a>
        

        <meta property="position" content="1" />
      </li>

    

      <!-- Skip if root -->
      

      <!-- Get breadcrumb title -->
      

      <!-- SEO data -->
      

      <li class="breadcrumb-item active" property="itemListElement" typeof="ListItem">

        

          

          <span property="name">安装和配置Elasticsearch</span>

        

        <meta property="position" content="2" />
      </li>

    

    </ol>

  </nav>



	
		<span class="ee-only">Magento Commerce only</span>
	

	

	<h1 class="page-heading">安装和配置Elasticsearch</h1>

  


</section>

			<ul>
  <li><a href="/guides/v2.2/config-guide/elasticsearch/es-config-nginx.html">配置nginx和Elasticsearch</a></li>
  <li><a href="/guides/v2.2/config-guide/elasticsearch/es-config-apache.html">配置Apache和Elasticsearch</a></li>
  <li><a href="/guides/v2.2/config-guide/elasticsearch/es-config-stopwords.html">配置Elasticsearch停用词</a></li>
</ul>

<h2 id="overview">Elasticsearch overview</h2>

<p>In Magento 2.1 for the first time, you can use <a href="https://www.elastic.co" target="_blank">Elasticsearch</a> for searching your <span term-uuid="8d40d668-4996-4856-9f81-b1386cf4b14f" class="glossary-term" data-toggle="popover">catalog</span>.</p>

<ul>
  <li>Elasticsearch performs quick and advanced searches on products in the catalog</li>
  <li>Elasticsearch analyzers support multiple languages</li>
  <li>Supports stop words and synonyms</li>
  <li>
    <p>Indexing does not impact customers until reindex is completed</p>

    <p>Elasticsearch returns search results based on the last generated index until the new one has been completely indexed so there’s no disruption to customers</p>
  </li>
  <li>Accurate, performant, scalable</li>
  <li>Works well out of the box</li>
  <li>Easy to horizontally scale</li>
  <li>Supports real-time data and analysis</li>
  <li>Can be used as a document-oriented data store</li>
  <li>Applications in framework beyond search—reporting, personalization, performance, and storage</li>
</ul>

<h3 id="es-spt-versions">Supported versions</h3>
<p>Magento Commerce version 2.2.x supports the following Elasticsearch versions:</p>

<ul>
  <li>Elasticsearch <a href="https://www.elastic.co/downloads/past-releases/elasticsearch-5-2-2" target="&#95;blank">5.x</a></li>
  <li>Elasticsearch <a href="https://www.elastic.co/downloads/past-releases/elasticsearch-2-4-5" target="&#95;blank">2.x</a></li>
</ul>

<p>Magento 2.2.3 uses <a href="https://github.com/elastic/elasticsearch-php" target="&#95;blank">Elasticsearch PHP client</a> version 5.1. (Before version 2.2.3, Magento used PHP client version 2.0.)</p>

<h3 id="es-arch">Recommended configuration</h3>
<p>The following figure shows our recommended configuration. All of the tasks we discuss assume you’ve configured your system this way.</p>

<p><img src="/common/images/elastic_config.png" width="500px" /></p>

<p>The preceding diagram shows:</p>

<ul>
  <li>
    <p>The Magento application and Elasticsearch are installed on different hosts.</p>

    <p>Running on separate hosts is secure, enables Elasticsearch to be scaled, and is necessary for proxying to work. (Clustering Elasticsearch is beyond the scope of this guide but you can find more information in the <a href="https://www.elastic.co/guide/en/elasticsearch/guide/current/distributed-cluster.html" target="_blank">Elasticsearch documentation</a>.)</p>
  </li>
  <li>
    <p>Each host has its own web server; the web servers don’t have to be the same.</p>

    <p>例如， the Magento application can run Apache and Elasticsearch can run nginx.</p>
  </li>
  <li>
    <p>Both web servers use Transport Layer Security (TLS).</p>

    <p>Setting up TLS is beyond the scope of our documentation.</p>
  </li>
</ul>

<p>Search requests are processed as follows:</p>

<ol>
  <li>
    <p>A search request from a user is received by the Magento web server, which forwards it to the Elasticsearch server.</p>

    <p>You configure Elasticsearch in the Magento Admin to connect to the proxy’s host and port. We recommend the web server’s SSL port (by default, 443).</p>
  </li>
  <li>The Elasticsearch web server (listening on port 443) proxies the request to the Elasticsearch server (by default, it listens on port 9200).</li>
  <li>
    <p>Access to Elasticsearch is further protected by HTTP Basic authentication.</p>

    <p>For any request to reach Elasticsearch, it must travel over SSL <em>and</em> provide a valid user name and password.</p>
  </li>
  <li>Elasticsearch processes the search request.</li>
  <li>Communication returns along the same route, with the Elasticsearch web server acting as a secure reverse proxy.</li>
</ol>

<h2 id="es-prereq">Install prerequisites and Elasticsearch</h2>
<p>The tasks discussed in this section require the following:</p>

<ul>
  <li><a href="#firewall-selinux">Firewall and SELinux</a></li>
  <li><a href="#prereq-java" target="_blank">Install the Java Software Development Kit (JDK)</a></li>
  <li><a href="#es-install-es5">Install Elasticsearch 5.x</a></li>
  <li><a href="#es-install-es">Install Elasticsearch 2.x</a></li>
  <li><a href="#es-upgrade5">Upgrade from Elasticsearch 2.x to 5.x</a></li>
  <li><a href="#configure-magento-to-use-elasticsearch">配置Magento使用Elasticsearch</a></li>
</ul>

<div>

  <h3 id="firewall-selinux">Firewall and SELinux</h3>
  <p>Please take into account that security-related software (iptables, SELinux, AppArmor etc.) may be configured by default to block communication between subsystems. It may be a good idea to check them in case of problems.</p>

  <h4 id="set-up-rules-for-iptables-and-selinux">Set up rules for iptables and SELinux</h4>
  <p>To set up rules to allow communication with the firewall or SELinux enabled, consult the following resources:</p>

  <ul>
    <li><a href="https://help.ubuntu.com/community/IptablesHowTo" target="_blank">iptables how-to</a></li>
    <li><a href="https://fedoraproject.org/wiki/How_to_edit_iptables_rules" target="_blank">How to edit iptables rules (fedora project)</a></li>
    <li><a href="http://www.thegeekstuff.com/2011/06/iptables-rules-examples/" target="_blank">25 Most Frequently Used Linux IPTables Rules Examples</a></li>
    <li><a href="https://www.centos.org/docs/5/html/Deployment_Guide-en-US/ch-selinux.html" target="_blank">Introduction to SELinux (CentOS.org)</a></li>
    <li><a href="https://wiki.centos.org/HowTos/SELinux" target="_blank">SELinux How-To Wiki (CentOS.org)</a></li>
  </ul>

  <div>

    <h3 id="prereq-java">Install the Java Software Development Kit (JDK)</h3>
    <p>To determine if Java is already installed, enter the following command:</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>java -version
</code></pre></div>    </div>

    <p>If the message <code class="highlighter-rouge">java: command not found</code> displays, you must install the Java SDK as discussed in the next section.</p>

    <p>See one of the following sections:</p>

    <ul>
      <li><a href="#install-prereq-java-centos">Install the latest JDK on CentOS</a></li>
      <li><a href="#install-prereq-java-ubuntu">Install the latest JDK on Ubuntu</a></li>
    </ul>

    <h4 id="install-prereq-java-centos">Install the JDK on CentOS</h4>
    <p>See <a href="https://www.digitalocean.com/community/tutorials/how-to-install-java-on-centos-and-fedora#install-oracle-java-8" target="_blank">this article on digitalocean</a>.</p>

    <p>Be sure to install the JDK and <em>not</em> the JRE.</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>yum -y install java-1.8.0-openjdk
</code></pre></div>    </div>

    <div class="bs-callout bs-callout-info" id="info">
	<p>Java version 8 might not be available for all operating systems. 例如， you can <a href="http://packages.ubuntu.com/" target="_blank">search the list of available packages for Ubuntu</a>.</p>
</div>

    <h4 id="install-prereq-java-ubuntu">Install the JDK on Ubuntu</h4>
    <p>To install JDK 1.8 on Ubuntu, enter the following commands as a user with <code class="highlighter-rouge">root</code> privileges:</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>add-apt-repository -y ppa:webupd8team/java
apt-get -y update
apt-get install -y oracle-java8-installer
</code></pre></div>    </div>

    <p>For other options, see <a href="https://docs.oracle.com/javase/8/docs/technotes/guides/install/install_overview.html" target="_blank">Oracle documentation</a>.</p>

    <h3 id="es-install-es5">Install Elasticsearch 5.x</h3>

    <p>This section discusses how to install Elasticsearch 5.2 from their repository. You can select a more recent version of 5.x, but 5.2 has been tested.</p>

    <ol>
      <li>Log in to your Magento server as a user with <code class="highlighter-rouge">root</code> privileges.</li>
      <li>
        <p><em>CentOS</em>: Enter the following commands in the order shown:</p>

        <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>rpm --import https://artifacts.elastic.co/GPG-KEY-elasticsearch
vim /etc/yum.repos.d/Elasticsearch.repo
</code></pre></div>        </div>

        <p>Add the following:</p>

        <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[elasticsearch-5.x]
name=Elasticsearch repository for 5.x packages
baseurl=https://artifacts.elastic.co/packages/5.x/yum
gpgcheck=1
gpgkey=https://artifacts.elastic.co/GPG-KEY-elasticsearch
enabled=1
autorefresh=1
type=rpm-md
</code></pre></div>        </div>

        <p>Enter the following commands:</p>

        <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>yum -y install elasticsearch
chkconfig --add elasticsearch
</code></pre></div>        </div>
      </li>
      <li>
        <p><em>Ubuntu</em>: Install the Elasticsearch 5.2 version using the <a href="https://www.elastic.co/guide/en/elasticsearch/reference/5.2/deb.html" target="_blank">Elasticsearch documentation</a></p>
      </li>
      <li>Optionally, configure Elasticsearch as needed. See <a href="https://www.elastic.co/guide/en/elasticsearch/reference/5.2/settings.html" target="_blank">Configuring Elasticsearch</a> for more information.</li>
      <li>
        <p>Start Elasticsearch:</p>

        <p><code class="highlighter-rouge">service elasticsearch start</code></p>
      </li>
      <li>
        <p>Verify that Elasticsearch is working by entering the following command on the server on which it’s running:</p>

        <p><code class="highlighter-rouge">curl -XGET '&lt;host&gt;:9200/_cat/health?v&amp;pretty'</code></p>

        <p>A message similar to the following is displayed:</p>

        <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>epoch      timestamp cluster       status node.total node.data shards pri relo init unassign pending_tasks
1519701563 03:19:23  elasticsearch green           1         1      0   0    0    0        0             0
</code></pre></div>        </div>
      </li>
    </ol>

    <h3 id="es-install-es">Install Elasticsearch 2.x</h3>
    <p>This section discusses how to install the latest 2.x version of Elasticsearch from their repository.</p>

    <p>To install Elasticsearch:</p>

    <ol>
      <li>Log in to your Magento server as a user with <code class="highlighter-rouge">root</code> privileges.</li>
      <li>
        <p><em>CentOS</em>: Enter the following commands in the order shown:</p>

        <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>rpm --import https://packages.elastic.co/GPG-KEY-elasticsearch
vim /etc/yum.repos.d/Elasticsearch.repo
</code></pre></div>        </div>

        <p>Add the following:</p>

        <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    [elasticsearch-2.x]
    name=Elasticsearch repository for 2.x packages
    baseurl=http://packages.elastic.co/elasticsearch/2.x/centos
    gpgcheck=1
    gpgkey=http://packages.elastic.co/GPG-KEY-elasticsearch
    enabled=1
</code></pre></div>        </div>

        <p>Enter the following commands:</p>

        <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>yum -y install elasticsearch
chkconfig --add elasticsearch
</code></pre></div>        </div>
      </li>
      <li>
        <p><em>Ubuntu</em>: Enter the following commands in the order shown:</p>

        <p>Find the <a href="https://www.elastic.co/downloads/past-releases" target="_blank">latest 2.x version of Elasticsearch</a>.</p>

        <p>Install the latest 2.x version using <a href="https://www.elastic.co/guide/en/elasticsearch/reference/2.4/_installation.html" target="_blank">Elasticsearch documentation</a></p>

        <p>例如， to install Elasticsearch version 2.4.4, enter the following commands in the order shown:</p>

        <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl -L -O https://download.elastic.co/elasticsearch/release/org/elasticsearch/distribution/tar/elasticsearch/2.4.4/elasticsearch-2.4.4.tar.gz
tar -xvf elasticsearch-2.4.4.tar.gz
cd elasticsearch-2.4.4/bin
./elasticsearch
</code></pre></div>        </div>
      </li>
      <li>
        <p>Open the <a href="https://www.elastic.co/guide/en/elasticsearch/reference/2.0/setup-configuration.html#settings" target="_blank">Elasticsearch configuration file</a>, <code class="highlighter-rouge">elasticsearch.yml</code>, in a text editor.</p>

        <p>例如， it might be located in <code class="highlighter-rouge">/etc/elasticsearch</code>或<code class="highlighter-rouge">&lt;elasticsearch install dir&gt;/config</code>.</p>
      </li>
      <li>Save your changes to <code class="highlighter-rouge">elasticsearch.yml</code> and exit the text editor.</li>
      <li>Optionally configure the <a href="https://www.elastic.co/guide/en/elasticsearch/reference/2.0/setup-service.html" target="_blank">Elasticsearch service</a>.</li>
      <li>
        <p>Start Elasticsearch:</p>

        <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>service elasticsearch start
</code></pre></div>        </div>
      </li>
      <li>
        <p>Verify that Elasticsearch is working by entering the following command on the server on which it’s running:</p>

        <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl -i http://127.0.0.1:9200/_cluster/health
</code></pre></div>        </div>

        <p>Messages similar to the following display if Elasticsearch is running:</p>

        <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{"cluster_name":"elasticsearch","status":"green","timed_out":false,"number_of_nodes":1,"number_of_data_nodes":1,"active_primary_shards":0,"active_shards":0,"relocating_shards":0,"initializing_shards":0,"unassigned_shards":0,"delayed_unassigned_shards":0,"number_of_pending_tasks":0,"number_of_in_flight_fetch":0,"task_max_waiting_in_queue_millis":0,"active_shards_percent_as_number":100.0}
</code></pre></div>        </div>
      </li>
    </ol>

    <h2 id="es-upgrade5">Upgrade from Elasticsearch 2.x to 5.x</h2>

    <p>Refer to <a href="https://www.elastic.co/guide/en/elasticsearch/reference/5.2/setup-upgrade.html" target="_blank">Upgrading Elasticsearch</a> for full instructions on backing up your data, detecting potential migration issues, and testing upgrades before deploying to production.</p>

    <p>Upgrading from 2.x to 5.x requires a full cluster restart. See <a href="https://www.elastic.co/guide/en/elasticsearch/reference/5.2/restart-upgrade.html" target="_blank">Full cluster restart upgrade</a> for details.</p>

    <div class="bs-callout bs-callout-info" id="info">
      <p>Elasticsearch 5.x requires JDK 1.8 or higher. Elasticsearch 2.x requires JDK 1.7 or higher. See <a href="#prereq-java" target="_blank">Install the Java Software Development Kit (JDK)</a> to check which version of JDK is installed.</p>
    </div>

    <h2 id="es-resources">Additional resources</h2>
    <p>For additional information, see <a href="https://www.elastic.co/guide/en/elasticsearch/reference/2.4/index.html">Elasticsearch documentation</a></p>

    <h4 id="section">下一步</h4>

    <ul>
      <li><a href="/guides/v2.2/config-guide/elasticsearch/es-config-nginx.html">配置nginx和Elasticsearch</a></li>
      <li><a href="/guides/v2.2/config-guide/elasticsearch/es-config-apache.html">配置Apache和Elasticsearch</a></li>
      <li><a href="/guides/v2.2/config-guide/elasticsearch/configure-magento.html">配置Magento使用Elasticsearch</a></li>
    </ul>
  </div>
</div>

			
		</div>
		<!-- /.content-wrap -->

		<div class="page-info">

    
  
    
    <div class="github-link">
      <a class="improve-page" href="https://github.com/magento/devdocs/blob/develop/guides/v2.2/config-guide/elasticsearch/es-overview.md" target="_blank">
        去GitHub上编辑
      </a>
    </div>
    
  
    
    <div class="new-issue">
      <a href="https://github.com/magento/devdocs/issues/new?title=Feedback on page: /guides/v2.2/config-guide/elasticsearch/es-overview.html" target="_blank">反馈</a>
    </div>
    
  
  </div>

	</section>
	<!-- /.content -->

</div> <!-- /.content-container -->


	</div>
	<!-- /.main-container -->
</div>
<!-- /#gl-wrapper -->

<!-- footer-->
<div class="page-footer">
  <div class="container">

    <div class="copyright-links">
      <ul class="nav footer-links">
  <li><a href="/guides/v2.2/contributor-guide/contributing_docs.html">成为贡献者</a>
  <li><a href="https://magento.github.io/glossary/index.html?audience=developer">术语表</a></li>
  <li><a href="http://magento.com/legal/terms/privacy/">隐私政策</a></li>
  <li><a href="http://magento.com/legal/terms/">服务条款</a></li>
  <li><a href="http://magento.com/legal/licensing/">许可/商标 常见问题</a></li>
  <li><a href="/guides/v2.2/release-notes/bk-release-notes.html">版本日志</a></li>
  <li><a href="/magento-third-party.html">三方许可</a></li>
</ul>

    </div>

		<div class="copyright-date">&copy; 2018 Magento. All rights reserved.</div>

  </div>
</div>
<!-- / #footer -->


<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/algoliasearch/3/algoliasearch.min.js"></script>
<script src="/assets/js/app.min.js"></script>


<script src="/common/js/devdocs.min.js"></script>




</body>
</html>

