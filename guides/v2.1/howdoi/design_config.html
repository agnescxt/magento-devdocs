<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width initial-scale=1" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<title>自定义设计配置 | Magento 2 Developer Documentation</title>
	<meta name="description" content="Magento 2 Developer Documentation.
">

	<link rel="stylesheet" href="/assets/css/app.css" />
	<link rel="stylesheet" href="/assets/css/print.css" media="print"/>

	<link rel="stylesheet" href="/common/css/devdocs.css" />

	<script>
  var baseUrl = "";
  var algolia = {
    id : "E642SEDTHL",
    index:  "devdocs",
    key:  "d2d0f33ab73e291ef8d88d8b565e754c"
  };
</script>




	<link rel="canonical" href="http://localhost:4000/guides/v2.1/howdoi/design_config.html">

	<link rel="shortcut icon" type="image/vnd.microsoft.icon" href="https://magento.com/favicon.ico">
	<link rel="apple-touch-icon" type="image/png" href="https://magento.com/apple-touch-icon.png">
	<link rel="apple-touch-icon" type="image/png" sizes="57x57" href="https://magento.com/apple-touch-icon-57x57.png">
	<link rel="apple-touch-icon" type="image/png" sizes="72x72" href="https://magento.com/apple-touch-icon-72x72.png">
	<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="https://magento.com/apple-touch-icon-76x76.png">
	<link rel="apple-touch-icon" type="image/png" sizes="114x114" href="https://magento.com/apple-touch-icon-114x114.png">
	<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="https://magento.com/apple-touch-icon-120x120.png">
	<link rel="apple-touch-icon" type="image/png" sizes="144x144" href="https://magento.com/apple-touch-icon-144x144.png">
	<link rel="apple-touch-icon" type="image/png" sizes="152x152" href="https://magento.com/apple-touch-icon-152x152.png">
	<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="https://magento.com/apple-touch-icon-180x180.png">

</head>
<body class="layout-default">

	<header class="site-header">

		<nav class="site-nav">

  <div class="menu-btn">
    <a id="menu-btn" class="menu-trigger menu-icon" href="#nav-main" aria-haspopup="true" aria-controls="nav-main"></a>
  </div>

  <div class="nav-container">

    <a class="logo" href="/guides/v2.1/">
      <img src="/assets/i/m-logo.svg" alt=""><img src="/assets/i/magento-logo.svg" alt="Magento" class="magento-logo" />
      <span class="site-logo">DevDocs</span>
    </a>

    <div id="nav-main" class="nav-main-wrap" aria-labelledby="menu-btn">
      
<div class="version-switcher dropdown" data-version="2.1">
	<button id="version-switcher-button" class="btn dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
    Magento 2.1
	</button>

	<ul class="dropdown-menu dropdown-menu-left" aria-labelledby="version-switcher-button">
	
		<li><a class="dropdown-item" data-proofer-ignore href="/guides/v2.0/howdoi/design_config.html">Magento 2.0</a></li>
	
		<li><a class="dropdown-item" data-proofer-ignore href="/guides/v2.1/howdoi/design_config.html">Magento 2.1</a></li>
	
		<li><a class="dropdown-item" data-proofer-ignore href="/guides/v2.2/howdoi/design_config.html">Magento 2.2</a></li>
	
		<li><a class="dropdown-item" data-proofer-ignore href="/guides/v2.3/howdoi/design_config.html">Magento 2.3 Pre-release</a></li>
	
  </ul>

</div>


      <!-- Main Navigation -->
<ul class="nav-main" role="menubar">

  <li class="nav-main-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span tabindex="-1">部署</span>

    <div class="nav-popup" role="menu" aria-hidden="true">
      <ul>
          <li><a href="/guides/v2.1/install-gde/bk-install-guide.html">安装向导</a></li>
          
          <li><a href="/guides/v2.1/comp-mgr/bk-compman-upgrade-guide.html">组件管理和系统升级手册</a></li>
          
          <li><a href="/guides/v2.1/config-guide/bk-config-guide.html">配置手册</a></li>
          
          <li><a href="/guides/v2.1/migration/bk-migration-guide.html">迁移指引</a></li>
          <li><a href="/guides/v2.1/cloud/bk-cloud.html">上云指引</a></li>
          <li><a href="/magento-release-information.html">版本日志</a></li>
      </ul>
    </div>

  </li>


  <li class="nav-main-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span tabindex="-1">开发</span>

    <div class="nav-popup" role="menu" aria-hidden="true">

      <div class="nav-section">
        <div class="nav-section-title">服务端</div>
        <ul>
          <li><a href="/guides/v2.1/architecture/bk-architecture.html">架构说明</a></li>
          <li><a href="/guides/v2.1/extension-dev-guide/bk-extension-dev-guide.html">PHP开发文档</a></li>
          <li><a href="/guides/v2.1/ext-best-practices/bk-ext-best-practices.html">扩展开发实践</a></li>
          <li><a href="/guides/v2.1/mrg/intro.html">各模块介绍</a></li>
          <li><a href="/guides/v2.1/coding-standards/bk-coding-standards.html">编码规范</a></li>
          <li><a href="/guides/v2.1/contributor-guide/contributing.html">贡献指引</a></li>
        </ul>
      </div>

      <div class="nav-section">
        <div class="nav-section-title">前端</div>
        <ul>
          <li class=""><a href="/guides/v2.1/frontend-dev-guide/bk-frontend-dev-guide.html">前端工程师手册</a></li>
          
          <li><a href="/guides/v2.1/ui_comp_guide/bk-ui_comps.html">UI组件手册</a></li>
          
          <li><a href="/guides/v2.1/javascript-dev-guide/bk-javascript-dev-guide.html">JavaScript开发手册</a></li>
          <li><a href="/guides/v2.1/pattern-library/bk-pattern.html">管理面板设计模式及所用库</a></li>
          <li><a href="/guides/v2.1/design-styleguide/bk-styleguide.html">管理面板样式手册</a></li>
          <li><a href="https://magento-research.github.io/pwa-devdocs/">PWA Studios</a></li>
        </ul>
      </div>

      <div class="nav-section">
        <div class="nav-section-title"><abbr>API</abbr></div>
        <ul>
          <li><a href="/guides/v2.1/get-started/bk-get-started-api.html">Web APIs起步</a></li>
          <li><a href="/guides/v2.1/rest/bk-rest.html">REST API参考</a></li>
          <li><a href="/guides/v2.1/soap/bk-soap.html">SOAP API参考</a></li>
          
          
          <li><a href="/guides/v2.1/marketplace/eqp/api.html">Marketplace EQP API Reference</a></li>
          
        </ul>
      </div>
    </div>

  </li>


  <li class="nav-main-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span tabindex="-1">测试</span>

    <div class="nav-popup" role="menu" aria-hidden="true">
      <ul>
        <li><a href="/guides/v2.1/test/testing.html">Magento测试手册</a></li>
        
        <li><a href="/guides/v2.1/mtf/mtf_introduction.html">功能测试</a></li>
        <li><a href="/guides/v2.1/test/integration/integration_test_execution.html">集成测试</a></li>
        <li><a href="/guides/v2.1/test/js/jasmine.html">JavaScript单元测试</a></li>
        <li><a href="/guides/v2.1/test/unit/unit_test_execution.html">PHP单元测试</a></li>
        <li><a href="/guides/v2.1/get-started/web-api-functional-testing.html">Web API功能测试</a></li>
      </ul>
    </div>

  </li>


  <li class="nav-main-separator"></li>


  <li class="nav-main-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span tabindex="-1">功能文档</span>

    <div class="nav-popup" role="menu" aria-hidden="true">
      <ul>
          
        
        <li><a href="/guides/v2.1/howdoi/checkout/checkout_overview.html">Checkout</a></li>
        <li><a href="/guides/v2.1/payments-integrations/bk-payments-integrations.html">支付集成</a></li>
        
          <li><a href="/guides/v2.1/extension-dev-guide/staging.html">Staging</a></li>
        
      </ul>
    </div>

  </li>


  <li class="nav-main-item"  tabindex="0" role="menuitem" aria-haspopup="true">
    <span tabindex="-1">指引</span>

    <div class="nav-popup" role="menu" aria-hidden="true">
      <ul>
        <li><a href="/guides/v2.1/howdoi/bk-how-do-i.html">如何</a></li>
        
        <li><a  data-proofer-ignore href="/guides/v2.1/get-started/order-tutorial/order-intro.html">使用EST APIs处理订单</a></li>
        

        <li><a href="/videos/">视频教程</a></li>
      </ul>
    </div>

  </li>

</ul><!-- /.nav-main -->

    </div>

    <div class="search-btn">
      <a class="search-trigger search-icon" href="#"></a>
    </div>

    <form class="quick-search" action="/guides/v2.1/search.html" method="get" novalidate="novalidate">
      <input type="search" name="q" placeholder="Search" />
      <a href="#" class="quick-search-close">&times;</a>
    </form>

  </div>

</nav><!-- #site-nav -->
<div class="nav-main-fader"></div>


	</header>

	<div class="global-wrapper">

		<div class="main-container">
			<a id="main-content"></a>


<div class="content-container">

	<!-- sidebar -->
<aside class="sidebar">
	<a href="#" data-proofer-ignore class="toc-toggler">内容表格</a>
	<div class="sidebar-wrapper">

		

		<h4 class="guide-title">如何</h4>
		<div class="collapsible-navigation">
		    <ul>
		    
		    	

<li class="nav-level1  " id="如何">
    

    
    <a href="/guides/v2.1/howdoi/bk-how-do-i.html">如何</a>
    

    
</li>


		    
		    	

<li class="nav-level1  " id="贡献者注册表单">
    

    
    <a href="/guides/v2.1/howdoi/howdoi_contribute.html">贡献者注册表单</a>
    

    
</li>


		    
		    	

<li class="nav-level1  " id="配置magento">
    

    
    <a href="/guides/v2.1/howdoi/config/configure.html">配置Magento</a>
    

    
</li>


		    
		    	

<li class="nav-level1 active " id="自定义设计配置">
    

    
    <a href="/guides/v2.1/howdoi/design_config.html">自定义设计配置</a>
    

    
</li>


		    
		    	

<li class="nav-level1  " id="部署magento到生产环境">
    

    
    <a href="/guides/v2.1/howdoi/deploy/deploy-to-prod.html">部署Magento到生产环境</a>
    

    
</li>


		    
		    	

<li class="nav-level1  " id="安装和配置">
    

    
    <a href="/guides/v2.1/howdoi/install/install-topics.html">安装和配置</a>
    

    
</li>


		    
		    	

<li class="nav-level1  " id="magento模式切换">
    

    
    <a href="/guides/v2.1/howdoi/install/mode-switch.html">Magento模式切换</a>
    

    
</li>


		    
		    	

<li class="nav-level1  " id="js开发">
    

    
    <a href="/guides/v2.1/howdoi/frontend/front-js.html">js开发</a>
    

    
</li>


		    
		    	

<li class="nav-level1  " id="布局开发">
    

    
    <a href="/guides/v2.1/howdoi/frontend/front-layout.html">布局开发</a>
    

    
</li>


		    
		    	

<li class="nav-level1  " id="迁移magento1到magento2">
    

    
    <a href="/guides/v2.1/howdoi/migrate/migrate.html">迁移Magento1到Magento2</a>
    

    
    <ul>
        
        
        
        <li class="nav-level2  " id="迁移主题">

            

            
            <a href="/guides/v2.1/howdoi/migrate/migrate-themes.html">迁移主题</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="迁移扩展">

            

            
            <a href="/guides/v2.1/howdoi/migrate/migrate-extensions.html">迁移扩展</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="代码迁移">

            

            
            <a href="/guides/v2.1/howdoi/migrate/migrate-code.html">代码迁移</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="数据迁移">

            

            
            <a href="/guides/v2.1/howdoi/migrate/migrate-data.html">数据迁移</a>
            

            
        </li>
        
        
    </ul>
    
</li>


		    
		    	

<li class="nav-level1  " id="php开发">
    

    
    <a href="/guides/v2.1/howdoi/php/php_devs.html">PHP开发</a>
    

    
</li>


		    
		    	

<li class="nav-level1  " id="主题开发">
    

    
    <a href="/guides/v2.1/howdoi/frontend/front-theme.html">主题开发</a>
    

    
</li>


		    
		    	

<li class="nav-level1  " id="magento故障排除">
    

    
    <a href="/guides/v2.1/howdoi/troubleshoot/troubleshoot.html">Magento故障排除</a>
    

    
    <ul>
        
        
        
        <li class="nav-level2  " id="重置为默认主题">

            

            
            <a href="/guides/v2.1/howdoi/troubleshoot/reset_theme.html">重置为默认主题</a>
            

            
        </li>
        
        
    </ul>
    
</li>


		    
		    	

<li class="nav-level1  " id="自定义结算页">
    

    
    <a href="/guides/v2.1/howdoi/checkout/checkout_overview.html">自定义结算页</a>
    

    
    <ul>
        
        
        
        <li class="nav-level2  " id="添加一个结算步骤">

            

            
            <a href="/guides/v2.1/howdoi/checkout/checkout_new_step.html">添加一个结算步骤</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="自定义结算页某步骤的视图">

            

            
            <a href="/guides/v2.1/howdoi/checkout/checkout_customize.html">自定义结算页某步骤的视图</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="为结算添加自定义的支付方式">

            

            
            <a href="/guides/v2.1/howdoi/checkout/checkout_payment.html">为结算添加自定义的支付方式</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="添加提交前自定义数据校验">

            

            
            <a href="/guides/v2.1/howdoi/checkout/checkout_order.html">添加提交前自定义数据校验</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="添加自定义物流校验">

            

            
            <a href="/guides/v2.1/howdoi/checkout/checkout_carrier.html">添加自定义物流校验</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="为邮编添加自定义掩码">

            

            
            <a href="/guides/v2.1/howdoi/checkout/checkout_zip.html">为邮编添加自定义掩码</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="在结算页为表单输入添加自定义模板">

            

            
            <a href="/guides/v2.1/howdoi/checkout/checkout_edit_form.html">在结算页为表单输入添加自定义模板</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="添加一个新的输入表单到结算页">

            

            
            <a href="/guides/v2.1/howdoi/checkout/checkout_form.html">添加一个新的输入表单到结算页</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="添加一个新的输入项到地址表单">

            

            
            <a href="/guides/v2.1/howdoi/checkout/checkout_new_field.html">添加一个新的输入项到地址表单</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="添加自定义物流地址渲染">

            

            
            <a href="/guides/v2.1/howdoi/checkout/checkout_address.html">添加自定义物流地址渲染</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="添加自定义影响其它输入的输入项">

            

            
            <a href="/guides/v2.1/howdoi/checkout/checkout_custom_checkbox.html">添加自定义影响其它输入的输入项</a>
            

            
        </li>
        
        
        
        
    </ul>
    
</li>


		    
		    	

<li class="nav-level1  " id="清除静态文件缓存">
    

    
    <a href="/guides/v2.1/howdoi/clean_static_cache.html">清除静态文件缓存</a>
    

    
</li>


		    
		    	

<li class="nav-level1  " id="自定义产品创建表单">
    

    
    <a href="/guides/v2.1/howdoi/customize_product.html">自定义产品创建表单</a>
    

    
</li>


		    
		    </ul>
		</div>

	</div>

</aside>
<!-- /sidebar -->


	<section class="content">
		<div class="content-wrap">
			<!-- page-header -->
<section class="page-intro">
	

  <nav class="breadcrumbs">

    <ol class="breadcrumb list-unstyled" vocab="http://schema.org/" typeof="BreadcrumbList">

      <li class="breadcrumb-item"><a class="breadcrumb-item" href="/guides/v2.1/"><span>首页</span></a></li>

    <!-- Iteration breadcrumb item -->
    
    

    

      <!-- Skip if root -->
      

      <!-- Get breadcrumb title -->
      

      <!-- SEO data -->
      

      <li class="breadcrumb-item" property="itemListElement" typeof="ListItem">

        
          <a property="item" typeof="WebPage" href="/guides/v2.1/howdoi/bk-how-do-i.html">
            <span property="name">How To</span>
          </a>
        

        <meta property="position" content="1" />
      </li>

    

      <!-- Skip if root -->
      

      <!-- Get breadcrumb title -->
      

      <!-- SEO data -->
      

      <li class="breadcrumb-item active" property="itemListElement" typeof="ListItem">

        

          

          <span property="name">自定义设计配置</span>

        

        <meta property="position" content="2" />
      </li>

    

    </ol>

  </nav>



	

	

	<h1 class="page-heading">自定义设计配置</h1>

  


</section>

			<h2>这里有什么</h2>

<p>This topic describes how to customize (add, delete, change) the configuration options available in <span term-uuid="18b930cf-09cc-47c9-a5e5-905f86c43f81" class="glossary-term" data-toggle="popover">Magento管理面板</span> under <strong>CONTENT</strong> &gt; <strong>Design</strong> &gt; <strong>Configuration</strong>. These options define the various aspects of <span term-uuid="1a70d3ac-6bd9-475a-8937-5f80ca785c14" class="glossary-term" data-toggle="popover">网站前台</span> design. In Magento 2.0.x and earlier these options were set under <strong>STORES</strong> &gt; <strong>Configuration</strong> &gt; <strong>Design</strong>. But starting from Magento 2.1.0 they were moved to the new location, and the configuration form was refactored.</p>

<h2 id="概述">概述</h2>

<p>In Magento out of the box, when you navigate to <strong>CONTENT</strong> &gt; <strong>Design</strong> &gt; <strong>Configuration</strong> in Admin, the first page that opens displays a grid with the available configuration scopes and assigned themes. It looks like following:</p>

<p><img src="/common/images/design_conf1.png" /></p>

<p>When you click <strong>Edit</strong> in any of the scope records, the page with available design options is displayed.
For example, the default set of design options for the <span term-uuid="ca5a9ff1-8182-4fc4-a34b-9b3f831dbf3f" class="glossary-term" data-toggle="popover">store view</span> level is the following:</p>

<p><img src="/common/images/design_conf2.png" alt="Design Configuration page" /></p>

<p>Both the grid and the configuration form are implemented using UI 组件.</p>

<p>To change the grid view, you need to customize the grid configuration by adding your custom <code class="highlighter-rouge">design_config_listing.xml</code> in your <span term-uuid="c1e4242b-1f1a-44c3-9d72-1d5b1435e142" class="glossary-term" data-toggle="popover">模块</span>.</p>

<p>To change the available design settings you need to customize the grid configuration by adding your custom <code class="highlighter-rouge">design_config_form.xml</code> in your module. If you add a new field, you must also declare it in <code class="highlighter-rouge">di.xml</code> how it is processed and saved.</p>

<p>View the following sections for details.</p>

<h2 id="customize_grid">Customize the grid</h2>

<p>The grid containing the configuration scopes is implemented using the <a href="/guides/v2.1/ui_comp_guide/components/ui-listing-grid.html">grid UI component</a>.</p>

<p>To customize the grid view, take the following steps:</p>

<ol>
  <li>
    <p>In the <code class="highlighter-rouge">&lt;your_module_dir&gt;/view/adminhtml/ui_component</code> directory, add the empty <code class="highlighter-rouge">design_config_listing.xml</code>.</p>
  </li>
  <li>
    <p>In the <code class="highlighter-rouge">design_config_listing.xml</code> file, create a <listing></listing> element to in which to add your customizations. For example, if you want to rename the column displaying the selected theme, your grid configuration must contain the following:</p>
  </li>
</ol>

<figure class="highlight"><pre><code class="language-xml" data-lang="xml"><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>

<span class="nt">&lt;listing</span> <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="na">xsi:noNamespaceSchemaLocation=</span><span class="s">"urn:magento:module:Magento_Ui:etc/ui_configuration.xsd"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;columns</span> <span class="na">name=</span><span class="s">"design_config_columns"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;column</span> <span class="na">name=</span><span class="s">"theme_theme_id"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;argument</span> <span class="na">name=</span><span class="s">"data"</span> <span class="na">xsi:type=</span><span class="s">"array"</span><span class="nt">&gt;</span>
                <span class="nt">&lt;item</span> <span class="na">name=</span><span class="s">"config"</span> <span class="na">xsi:type=</span><span class="s">"array"</span><span class="nt">&gt;</span>
                    <span class="nt">&lt;item</span> <span class="na">name=</span><span class="s">"label"</span> <span class="na">xsi:type=</span><span class="s">"string"</span> <span class="na">translate=</span><span class="s">"true"</span><span class="nt">&gt;</span>%New theme column name%<span class="nt">&lt;/item&gt;</span>
                <span class="nt">&lt;/item&gt;</span>
            <span class="nt">&lt;/argument&gt;</span>
        <span class="nt">&lt;/column&gt;</span>
    <span class="nt">&lt;/columns&gt;</span>
<span class="nt">&lt;/listing&gt;</span></code></pre></figure>

<p>Your <code class="highlighter-rouge">design_config_listing.xml</code> is merged with the same files from the other modules. So there is no need to copy their content, you only need to define changes. Even if you want to customize the existing entities, you only have to mention those options, the values of which are customized.</p>

<p>For reference, view the grid configuration files of the Magento modules:</p>

<ul>
  <li><code class="highlighter-rouge">&lt;Magento_Backend_module_dir&gt;/view/adminhtml/ui_component/design_config_listing.xml</code></li>
  <li><code class="highlighter-rouge">&lt;Magento_Theme_module_dir&gt;/view/adminhtml/ui_component/design_config_listing.xml</code></li>
</ul>

<p>If you add a certain field as additional grid column, you also need to set the field’s <code class="highlighter-rouge">use_in_grid</code> property in the <a href="#meta_data">field’s meta data in <code class="highlighter-rouge">di.xml</code></a>.</p>

<h2 id="customize_options">Customize the design options</h2>

<h3 id="customize-the-form-configuration">Customize the form configuration</h3>
<p>Design configuration form is implemented using the <a href="http://devdocs.magento.com/guides/v2.1/ui_comp_guide/components/ui-form.html">form UI component</a>.</p>

<p>To customize the form view, take the following steps:</p>

<ol>
  <li>
    <p>Create an empty <code class="highlighter-rouge">design_config_form.xml</code> file in the <code class="highlighter-rouge">&lt;your_module_dir&gt;/view/adminhtml/ui_component/</code> directory.</p>
  </li>
  <li>
    <p>Add content similar to the following:</p>
  </li>
</ol>

<figure class="highlight"><pre><code class="language-xml" data-lang="xml"><span class="nt">&lt;form</span> <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="na">xsi:noNamespaceSchemaLocation=</span><span class="s">"urn:magento:module:Magento_Ui:etc/ui_configuration.xsd"</span><span class="nt">&gt;</span>


    <span class="nt">&lt;fieldset</span> <span class="na">name=</span><span class="s">"%fieldset_name%"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;argument</span> <span class="na">name=</span><span class="s">"data"</span> <span class="na">xsi:type=</span><span class="s">"array"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;item</span> <span class="na">name=</span><span class="s">"config"</span> <span class="na">xsi:type=</span><span class="s">"array"</span><span class="nt">&gt;</span>
                <span class="nt">&lt;item</span> <span class="na">name=</span><span class="s">"label"</span> <span class="na">xsi:type=</span><span class="s">"string"</span> <span class="na">translate=</span><span class="s">"true"</span><span class="nt">&gt;</span>%Fieldset Label as displayed in UI%<span class="nt">&lt;/item&gt;</span>
                <span class="nt">&lt;item</span> <span class="na">name=</span><span class="s">"sortOrder"</span> <span class="na">xsi:type=</span><span class="s">"number"</span><span class="nt">&gt;</span>%order for displaying%<span class="nt">&lt;/item&gt;</span>
            <span class="nt">&lt;/item&gt;</span>
         <span class="nt">&lt;/argument&gt;</span>
        <span class="c">&lt;!--Field sets can be nested --&gt;</span>
        <span class="nt">&lt;fieldset</span> <span class="na">name=</span><span class="s">"%nested_fieldset_name%"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;argument</span> <span class="na">name=</span><span class="s">"data"</span> <span class="na">xsi:type=</span><span class="s">"array"</span><span class="nt">&gt;</span>
                <span class="nt">&lt;item</span> <span class="na">name=</span><span class="s">"config"</span> <span class="na">xsi:type=</span><span class="s">"array"</span><span class="nt">&gt;</span>
                    <span class="nt">&lt;item</span> <span class="na">name=</span><span class="s">"label"</span> <span class="na">xsi:type=</span><span class="s">"string"</span> <span class="na">translate=</span><span class="s">"true"</span><span class="nt">&gt;</span>%Nested fieldset Label as displayed in UI%<span class="nt">&lt;/item&gt;</span>
                    <span class="nt">&lt;item</span> <span class="na">name=</span><span class="s">"collapsible"</span> <span class="na">xsi:type=</span><span class="s">"boolean"</span><span class="nt">&gt;</span>true<span class="nt">&lt;/item&gt;</span>
                    <span class="c">&lt;!-- Nesting level, the value should correspond to the actual nesting level in the config xml file. For the top field set level = 0 --&gt;</span>
                    <span class="nt">&lt;item</span> <span class="na">name=</span><span class="s">"level"</span> <span class="na">xsi:type=</span><span class="s">"number"</span><span class="nt">&gt;</span>%level of nesting%<span class="nt">&lt;/item&gt;</span>
                <span class="nt">&lt;/item&gt;</span>
            <span class="nt">&lt;/argument&gt;</span>
            <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"%field_name%"</span><span class="nt">&gt;</span>
    			<span class="nt">&lt;argument</span> <span class="na">name=</span><span class="s">"data"</span> <span class="na">xsi:type=</span><span class="s">"array"</span><span class="nt">&gt;</span>
                    <span class="nt">&lt;item</span> <span class="na">name=</span><span class="s">"config"</span> <span class="na">xsi:type=</span><span class="s">"array"</span>
                        <span class="err">&lt;item</span> <span class="na">name=</span><span class="s">"%field_option1%"</span> <span class="na">xsi:type=</span><span class="s">"%option_type%"</span><span class="nt">&gt;</span>%value%<span class="nt">&lt;/item&gt;</span>
                        <span class="nt">&lt;item</span> <span class="na">name=</span><span class="s">"%field_option2%"</span> <span class="na">xsi:type=</span><span class="s">"%option_type%"</span><span class="nt">&gt;</span>%value%<span class="nt">&lt;/item&gt;</span>
....
                    <span class="nt">&lt;/item&gt;</span>
                <span class="nt">&lt;/argument&gt;</span>
            <span class="nt">&lt;/field&gt;</span>
        <span class="nt">&lt;/fieldset&gt;</span>
    <span class="nt">&lt;/fieldset&gt;</span>
<span class="nt">&lt;/form&gt;</span></code></pre></figure>

<p>Your custom fields and field sets will be available for all configuration scopes (website, store, and store view).</p>

<p>Your <code class="highlighter-rouge">design_config_form.xml</code> is merged with the same files from the other modules. So there is no need to copy their content, you only need to add your customizations.</p>

<p>To customize an existing entity, declare only those options, the values of which are customized, do not copy its entire configuration. For example, if you only want to rename the <strong>Other Settings</strong> field set, your form configuration must contain the following:</p>

<figure class="highlight"><pre><code class="language-xml" data-lang="xml"><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>

<span class="nt">&lt;form</span> <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="na">xsi:noNamespaceSchemaLocation=</span><span class="s">"urn:magento:module:Magento_Ui:etc/ui_configuration.xsd"</span><span class="nt">&gt;</span>

    <span class="nt">&lt;fieldset</span> <span class="na">name=</span><span class="s">"other_settings"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;argument</span> <span class="na">name=</span><span class="s">"data"</span> <span class="na">xsi:type=</span><span class="s">"array"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;item</span> <span class="na">name=</span><span class="s">"config"</span> <span class="na">xsi:type=</span><span class="s">"array"</span><span class="nt">&gt;</span>
                <span class="nt">&lt;item</span> <span class="na">name=</span><span class="s">"label"</span> <span class="na">xsi:type=</span><span class="s">"string"</span> <span class="na">translate=</span><span class="s">"true"</span><span class="nt">&gt;</span>Other Settings<span class="nt">&lt;/item&gt;</span>

            <span class="nt">&lt;/item&gt;</span>
        <span class="nt">&lt;/argument&gt;</span>
    <span class="nt">&lt;/fieldset&gt;</span>
<span class="nt">&lt;/form&gt;</span></code></pre></figure>

<p>To delete an existing field, or field set, in your <code class="highlighter-rouge">design_config_form.xml</code> use the following syntax:</p>

<figure class="highlight"><pre><code class="language-xml" data-lang="xml">...
    <span class="nt">&lt;fieldset</span> <span class="na">name=</span><span class="s">"%fieldset_name%"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;argument</span> <span class="na">name=</span><span class="s">"data"</span> <span class="na">xsi:type=</span><span class="s">"array"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;item</span> <span class="na">name=</span><span class="s">"disabled"</span> <span class="na">xsi:type=</span><span class="s">"boolean"</span><span class="nt">&gt;</span>true<span class="nt">&lt;/item&gt;</span>
        <span class="nt">&lt;/argument&gt;</span>
    <span class="nt">&lt;/fieldset&gt;</span>
...</code></pre></figure>

<p>For reference, view the form configuration files of Magento modules:</p>

<ul>
  <li><code class="highlighter-rouge">&lt;Magento_Backend_module_dir&gt;/view/adminhtml/ui_component/design_config_form.xml</code></li>
  <li><code class="highlighter-rouge">&lt;Magento_Catalog_module_dir&gt;/view/adminhtml/ui_component/design_config_form.xml</code></li>
  <li><code class="highlighter-rouge">&lt;Magento_Email_module_dir&gt;/view/adminhtml/ui_component/design_config_form.xml</code></li>
  <li><code class="highlighter-rouge">&lt;Magento_Swatches_module_dir&gt;/view/adminhtml/ui_component/design_config_form.xml</code></li>
  <li><code class="highlighter-rouge">&lt;Magento_Theme_module_dir&gt;/view/adminhtml/ui_component/design_config_form.xml</code></li>
</ul>

<h3 id="meta_data">Add fields’ metadata</h3>

<p>If in the design configuration form you add new fields, in <code class="highlighter-rouge">&lt;your_module_dir&gt;/etc/di.xml</code> you must specify their parent field sets and the path in the database. You can also declare the backend model used for processing the field values. If you do not specify any model, the default <code class="highlighter-rouge">Magento\Framework\App\Config\Value</code> model is used.</p>

<p>The field declaration in a <code class="highlighter-rouge">di.xml</code> looks like following:</p>

<figure class="highlight"><pre><code class="language-xml" data-lang="xml">...
<span class="nt">&lt;type</span> <span class="na">name=</span><span class="s">"Magento\Theme\Model\Design\Config\MetadataProvider"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;arguments&gt;</span>
        <span class="nt">&lt;argument</span> <span class="na">name=</span><span class="s">"metadata"</span> <span class="na">xsi:type=</span><span class="s">"array"</span><span class="nt">&gt;</span>
                <span class="c">&lt;!-- field name as described in configuration --&gt;</span>
                <span class="nt">&lt;item</span> <span class="na">name=</span><span class="s">"%field name%"</span> <span class="na">xsi:type=</span><span class="s">"array"</span><span class="nt">&gt;</span>
                    <span class="c">&lt;!-- the path to the field in system configuration storage in DB--&gt;</span>
                    <span class="nt">&lt;item</span> <span class="na">name=</span><span class="s">"path"</span> <span class="na">xsi:type=</span><span class="s">"string"</span><span class="nt">&gt;</span>%path in system config%<span class="nt">&lt;/item&gt;</span>
                    <span class="c">&lt;!-- the name of field set for current field, as described in form configuration --&gt;</span>
                    <span class="nt">&lt;item</span> <span class="na">name=</span><span class="s">"fieldset"</span> <span class="na">xsi:type=</span><span class="s">"string"</span><span class="nt">&gt;</span>%parent_fieldset%<span class="nt">&lt;/item&gt;</span>
                    <span class="c">&lt;!-- The php model used for field value processing --&gt;</span>
                    <span class="nt">&lt;item</span> <span class="na">name=</span><span class="s">"backend_model"</span> <span class="na">xsi:type=</span><span class="s">"string"</span><span class="nt">&gt;</span>%Backend\Model\For\\Field\Processing%<span class="nt">&lt;/item&gt;</span>
                    <span class="c">&lt;!-- Define whether the field value is displayed in the Design Configuration grid --&gt;</span>
                    <span class="nt">&lt;item</span> <span class="na">name=</span><span class="s">"use_in_grid"</span> <span class="na">xsi:type=</span><span class="s">"boolean"</span><span class="nt">&gt;</span>true|false<span class="err">&lt;</span>/&gt;
                    <span class="nt">&lt;item</span> <span class="na">name=</span><span class="s">"base_url"</span> <span class="na">xsi:type=</span><span class="s">"array"</span><span class="nt">&gt;</span>
                        <span class="nt">&lt;item</span> <span class="na">name=</span><span class="s">"type"</span> <span class="na">xsi:type=</span><span class="s">"string"</span><span class="nt">&gt;&lt;/item&gt;</span>
                        <span class="nt">&lt;item</span> <span class="na">name=</span><span class="s">"scope_info"</span> <span class="na">xsi:type=</span><span class="s">"string"</span><span class="nt">&gt;&lt;/item&gt;</span>
                        <span class="nt">&lt;item</span> <span class="na">name=</span><span class="s">"value"</span> <span class="na">xsi:type=</span><span class="s">"string"</span><span class="nt">&gt;&lt;/item&gt;</span>
                    <span class="nt">&lt;/item&gt;</span>
                <span class="nt">&lt;/item&gt;</span>
        <span class="nt">&lt;/argument&gt;</span>
    <span class="nt">&lt;/arguments&gt;</span>
<span class="nt">&lt;/type&gt;</span>
...</code></pre></figure>

<p>Example of field declaration:</p>

<figure class="highlight"><pre><code class="language-xml" data-lang="xml"><span class="nt">&lt;type</span> <span class="na">name=</span><span class="s">"Magento\Theme\Model\Design\Config\MetadataProvider"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;arguments&gt;</span>
        <span class="nt">&lt;argument</span> <span class="na">name=</span><span class="s">"metadata"</span> <span class="na">xsi:type=</span><span class="s">"array"</span><span class="nt">&gt;</span>
                <span class="nt">&lt;item</span> <span class="na">name=</span><span class="s">"head_shortcut_icon"</span> <span class="na">xsi:type=</span><span class="s">"array"</span><span class="nt">&gt;</span>
                    <span class="nt">&lt;item</span> <span class="na">name=</span><span class="s">"path"</span> <span class="na">xsi:type=</span><span class="s">"string"</span><span class="nt">&gt;</span>design/head/shortcut_icon<span class="nt">&lt;/item&gt;</span>
                    <span class="nt">&lt;item</span> <span class="na">name=</span><span class="s">"fieldset"</span> <span class="na">xsi:type=</span><span class="s">"string"</span><span class="nt">&gt;</span>head<span class="nt">&lt;/item&gt;</span>
                    <span class="nt">&lt;item</span> <span class="na">name=</span><span class="s">"backend_model"</span> <span class="na">xsi:type=</span><span class="s">"string"</span><span class="nt">&gt;</span>Magento\Config\Model\Config\Backend\Image\Favicon<span class="nt">&lt;/item&gt;</span>
                    <span class="nt">&lt;item</span> <span class="na">name=</span><span class="s">"base_url"</span> <span class="na">xsi:type=</span><span class="s">"array"</span><span class="nt">&gt;</span>
                        <span class="nt">&lt;item</span> <span class="na">name=</span><span class="s">"type"</span> <span class="na">xsi:type=</span><span class="s">"string"</span><span class="nt">&gt;</span>media<span class="nt">&lt;/item&gt;</span>
                        <span class="nt">&lt;item</span> <span class="na">name=</span><span class="s">"scope_info"</span> <span class="na">xsi:type=</span><span class="s">"string"</span><span class="nt">&gt;</span>1<span class="nt">&lt;/item&gt;</span>
                        <span class="nt">&lt;item</span> <span class="na">name=</span><span class="s">"value"</span> <span class="na">xsi:type=</span><span class="s">"string"</span><span class="nt">&gt;</span>favicon<span class="nt">&lt;/item&gt;</span>
                    <span class="nt">&lt;/item&gt;</span>
                <span class="nt">&lt;/item&gt;</span>      
        <span class="nt">&lt;/argument&gt;</span>
    <span class="nt">&lt;/arguments&gt;</span>
<span class="nt">&lt;/type&gt;</span></code></pre></figure>

<p>For more examples and reference, view the <code class="highlighter-rouge">di.xml</code> files of the Magento modules:</p>

<ul>
  <li><code class="highlighter-rouge">&lt;Magento_Backend_module_dir&gt;/etc/di.xml</code></li>
  <li><code class="highlighter-rouge">&lt;Magento_Catalog_module_dir&gt;/etc/di.xml</code></li>
  <li><code class="highlighter-rouge">&lt;Magento_Email_module_dir&gt;/etc/di.xml</code></li>
  <li><code class="highlighter-rouge">&lt;Magento_Swatches_module_dir&gt;/etc/di.xml</code></li>
  <li><code class="highlighter-rouge">&lt;Magento_Theme_module_dir&gt;/etc/di.xml</code></li>
</ul>

<h2 id="access_options">Accessing the options values in backend models</h2>

<p>The design configuration option values are stored in the <code class="highlighter-rouge">core_config_data</code> table in the database, similar to the values of System Configuration options, and can be accessed using the <code class="highlighter-rouge">\Magento\Framework\App\ConfigInterface</code> mechanism.</p>

			
		</div>
		<!-- /.content-wrap -->

		<div class="page-info">

    
  
    
    <div class="github-link">
      <a class="improve-page" href="https://github.com/magento/devdocs/blob/develop/guides/v2.1/howdoi/design_config.md" target="_blank">
        去GitHub上编辑
      </a>
    </div>
    
  
    
    <div class="new-issue">
      <a href="https://github.com/magento/devdocs/issues/new?title=Feedback on page: /guides/v2.1/howdoi/design_config.html" target="_blank">反馈</a>
    </div>
    
  
  </div>

	</section>
	<!-- /.content -->

</div> <!-- /.content-container -->


	</div>
	<!-- /.main-container -->
</div>
<!-- /#gl-wrapper -->

<!-- footer-->
<div class="page-footer">
  <div class="container">

    <div class="copyright-links">
      <ul class="nav footer-links">
  <li><a href="/guides/v2.1/contributor-guide/contributing_docs.html">成为贡献者</a>
  <li><a href="https://magento.github.io/glossary/index.html?audience=developer">术语表</a></li>
  <li><a href="http://magento.com/legal/terms/privacy/">隐私政策</a></li>
  <li><a href="http://magento.com/legal/terms/">服务条款</a></li>
  <li><a href="http://magento.com/legal/licensing/">许可/商标 常见问题</a></li>
  <li><a href="/guides/v2.1/release-notes/bk-release-notes.html">版本日志</a></li>
  <li><a href="/magento-third-party.html">三方许可</a></li>
</ul>

    </div>

		<div class="copyright-date">&copy; 2018 Magento. All rights reserved.</div>

  </div>
</div>
<!-- / #footer -->


<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/algoliasearch/3/algoliasearch.min.js"></script>
<script src="/assets/js/app.min.js"></script>


<script src="/common/js/devdocs.min.js"></script>




</body>
</html>

