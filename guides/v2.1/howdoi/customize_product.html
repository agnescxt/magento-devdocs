<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width initial-scale=1" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<title>自定义产品创建表单 | Magento 2 Developer Documentation</title>
	<meta name="description" content="Magento 2 Developer Documentation.
">

	<link rel="stylesheet" href="/assets/css/app.css" />
	<link rel="stylesheet" href="/assets/css/print.css" media="print"/>

	<link rel="stylesheet" href="/common/css/devdocs.css" />

	<script>
  var baseUrl = "";
  var algolia = {
    id : "E642SEDTHL",
    index:  "devdocs",
    key:  "d2d0f33ab73e291ef8d88d8b565e754c"
  };
</script>




	<link rel="canonical" href="http://localhost:4000/guides/v2.1/howdoi/customize_product.html">

	<link rel="shortcut icon" type="image/vnd.microsoft.icon" href="https://magento.com/favicon.ico">
	<link rel="apple-touch-icon" type="image/png" href="https://magento.com/apple-touch-icon.png">
	<link rel="apple-touch-icon" type="image/png" sizes="57x57" href="https://magento.com/apple-touch-icon-57x57.png">
	<link rel="apple-touch-icon" type="image/png" sizes="72x72" href="https://magento.com/apple-touch-icon-72x72.png">
	<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="https://magento.com/apple-touch-icon-76x76.png">
	<link rel="apple-touch-icon" type="image/png" sizes="114x114" href="https://magento.com/apple-touch-icon-114x114.png">
	<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="https://magento.com/apple-touch-icon-120x120.png">
	<link rel="apple-touch-icon" type="image/png" sizes="144x144" href="https://magento.com/apple-touch-icon-144x144.png">
	<link rel="apple-touch-icon" type="image/png" sizes="152x152" href="https://magento.com/apple-touch-icon-152x152.png">
	<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="https://magento.com/apple-touch-icon-180x180.png">

</head>
<body class="layout-default">

	<header class="site-header">

		<nav class="site-nav">

  <div class="menu-btn">
    <a id="menu-btn" class="menu-trigger menu-icon" href="#nav-main" aria-haspopup="true" aria-controls="nav-main"></a>
  </div>

  <div class="nav-container">

    <a class="logo" href="/guides/v2.1/">
      <img src="/assets/i/m-logo.svg" alt=""><img src="/assets/i/magento-logo.svg" alt="Magento" class="magento-logo" />
      <span class="site-logo">DevDocs</span>
    </a>

    <div id="nav-main" class="nav-main-wrap" aria-labelledby="menu-btn">
      
<div class="version-switcher dropdown" data-version="2.1">
	<button id="version-switcher-button" class="btn dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
    Magento 2.1
	</button>

	<ul class="dropdown-menu dropdown-menu-left" aria-labelledby="version-switcher-button">
	
		<li><a class="dropdown-item" data-proofer-ignore href="/guides/v2.0/howdoi/customize_product.html">Magento 2.0</a></li>
	
		<li><a class="dropdown-item" data-proofer-ignore href="/guides/v2.1/howdoi/customize_product.html">Magento 2.1</a></li>
	
		<li><a class="dropdown-item" data-proofer-ignore href="/guides/v2.2/howdoi/customize_product.html">Magento 2.2</a></li>
	
		<li><a class="dropdown-item" data-proofer-ignore href="/guides/v2.3/howdoi/customize_product.html">Magento 2.3 Pre-release</a></li>
	
  </ul>

</div>


      <!-- Main Navigation -->
<ul class="nav-main" role="menubar">

  <li class="nav-main-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span tabindex="-1">部署</span>

    <div class="nav-popup" role="menu" aria-hidden="true">
      <ul>
          <li><a href="/guides/v2.1/install-gde/bk-install-guide.html">安装向导</a></li>
          
          <li><a href="/guides/v2.1/comp-mgr/bk-compman-upgrade-guide.html">组件管理和系统升级手册</a></li>
          
          <li><a href="/guides/v2.1/config-guide/bk-config-guide.html">配置手册</a></li>
          
          <li><a href="/guides/v2.1/migration/bk-migration-guide.html">迁移指引</a></li>
          <li><a href="/guides/v2.1/cloud/bk-cloud.html">上云指引</a></li>
          <li><a href="/magento-release-information.html">版本日志</a></li>
      </ul>
    </div>

  </li>


  <li class="nav-main-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span tabindex="-1">开发</span>

    <div class="nav-popup" role="menu" aria-hidden="true">

      <div class="nav-section">
        <div class="nav-section-title">服务端</div>
        <ul>
          <li><a href="/guides/v2.1/architecture/bk-architecture.html">架构说明</a></li>
          <li><a href="/guides/v2.1/extension-dev-guide/bk-extension-dev-guide.html">PHP开发文档</a></li>
          <li><a href="/guides/v2.1/ext-best-practices/bk-ext-best-practices.html">扩展开发实践</a></li>
          <li><a href="/guides/v2.1/mrg/intro.html">各模块介绍</a></li>
          <li><a href="/guides/v2.1/coding-standards/bk-coding-standards.html">编码规范</a></li>
          <li><a href="/guides/v2.1/contributor-guide/contributing.html">贡献指引</a></li>
        </ul>
      </div>

      <div class="nav-section">
        <div class="nav-section-title">前端</div>
        <ul>
          <li class=""><a href="/guides/v2.1/frontend-dev-guide/bk-frontend-dev-guide.html">前端工程师手册</a></li>
          
          <li><a href="/guides/v2.1/ui_comp_guide/bk-ui_comps.html">UI组件手册</a></li>
          
          <li><a href="/guides/v2.1/javascript-dev-guide/bk-javascript-dev-guide.html">JavaScript开发手册</a></li>
          <li><a href="/guides/v2.1/pattern-library/bk-pattern.html">管理面板设计模式及所用库</a></li>
          <li><a href="/guides/v2.1/design-styleguide/bk-styleguide.html">管理面板样式手册</a></li>
          <li><a href="https://magento-research.github.io/pwa-devdocs/">PWA Studios</a></li>
        </ul>
      </div>

      <div class="nav-section">
        <div class="nav-section-title"><abbr>API</abbr></div>
        <ul>
          <li><a href="/guides/v2.1/get-started/bk-get-started-api.html">Web APIs起步</a></li>
          <li><a href="/guides/v2.1/rest/bk-rest.html">REST API参考</a></li>
          <li><a href="/guides/v2.1/soap/bk-soap.html">SOAP API参考</a></li>
          
          
          <li><a href="/guides/v2.1/marketplace/eqp/api.html">Marketplace EQP API Reference</a></li>
          
        </ul>
      </div>
    </div>

  </li>


  <li class="nav-main-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span tabindex="-1">测试</span>

    <div class="nav-popup" role="menu" aria-hidden="true">
      <ul>
        <li><a href="/guides/v2.1/test/testing.html">Magento测试手册</a></li>
        
        <li><a href="/guides/v2.1/mtf/mtf_introduction.html">功能测试</a></li>
        <li><a href="/guides/v2.1/test/integration/integration_test_execution.html">集成测试</a></li>
        <li><a href="/guides/v2.1/test/js/jasmine.html">JavaScript单元测试</a></li>
        <li><a href="/guides/v2.1/test/unit/unit_test_execution.html">PHP单元测试</a></li>
        <li><a href="/guides/v2.1/get-started/web-api-functional-testing.html">Web API功能测试</a></li>
      </ul>
    </div>

  </li>


  <li class="nav-main-separator"></li>


  <li class="nav-main-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span tabindex="-1">功能文档</span>

    <div class="nav-popup" role="menu" aria-hidden="true">
      <ul>
          
        
        <li><a href="/guides/v2.1/howdoi/checkout/checkout_overview.html">Checkout</a></li>
        <li><a href="/guides/v2.1/payments-integrations/bk-payments-integrations.html">支付集成</a></li>
        
          <li><a href="/guides/v2.1/extension-dev-guide/staging.html">Staging</a></li>
        
      </ul>
    </div>

  </li>


  <li class="nav-main-item"  tabindex="0" role="menuitem" aria-haspopup="true">
    <span tabindex="-1">指引</span>

    <div class="nav-popup" role="menu" aria-hidden="true">
      <ul>
        <li><a href="/guides/v2.1/howdoi/bk-how-do-i.html">如何</a></li>
        
        <li><a  data-proofer-ignore href="/guides/v2.1/get-started/order-tutorial/order-intro.html">使用EST APIs处理订单</a></li>
        

        <li><a href="/videos/">视频教程</a></li>
      </ul>
    </div>

  </li>

</ul><!-- /.nav-main -->

    </div>

    <div class="search-btn">
      <a class="search-trigger search-icon" href="#"></a>
    </div>

    <form class="quick-search" action="/guides/v2.1/search.html" method="get" novalidate="novalidate">
      <input type="search" name="q" placeholder="Search" />
      <a href="#" class="quick-search-close">&times;</a>
    </form>

  </div>

</nav><!-- #site-nav -->
<div class="nav-main-fader"></div>


	</header>

	<div class="global-wrapper">

		<div class="main-container">
			<a id="main-content"></a>


<div class="content-container">

	<!-- sidebar -->
<aside class="sidebar">
	<a href="#" data-proofer-ignore class="toc-toggler">内容表格</a>
	<div class="sidebar-wrapper">

		

		<h4 class="guide-title">How to</h4>
		<div class="collapsible-navigation">
		    <ul>
		    
		    	

<li class="nav-level1  " id="how-to">
    

    
    <a href="/guides/v2.1/howdoi/bk-how-do-i.html">How To</a>
    

    
</li>


		    
		    	

<li class="nav-level1  " id="contributor-sign-up-sheet">
    

    
    <a href="/guides/v2.1/howdoi/howdoi_contribute.html">贡献者注册表单</a>
    

    
</li>


		    
		    	

<li class="nav-level1  " id="配置magento">
    

    
    <a href="/guides/v2.1/howdoi/config/configure.html">配置Magento</a>
    

    
</li>


		    
		    	

<li class="nav-level1  " id="自定义设计配置">
    

    
    <a href="/guides/v2.1/howdoi/design_config.html">自定义设计配置</a>
    

    
</li>


		    
		    	

<li class="nav-level1  " id="部署magento到生产环境">
    

    
    <a href="/guides/v2.1/howdoi/deploy/deploy-to-prod.html">部署Magento到生产环境</a>
    

    
</li>


		    
		    	

<li class="nav-level1  " id="安装和配置">
    

    
    <a href="/guides/v2.1/howdoi/install/install-topics.html">安装和配置</a>
    

    
</li>


		    
		    	

<li class="nav-level1  " id="magento模式切换">
    

    
    <a href="/guides/v2.1/howdoi/install/mode-switch.html">Magento模式切换</a>
    

    
</li>


		    
		    	

<li class="nav-level1  " id="js开发">
    

    
    <a href="/guides/v2.1/howdoi/frontend/front-js.html">js开发</a>
    

    
</li>


		    
		    	

<li class="nav-level1  " id="布局开发">
    

    
    <a href="/guides/v2.1/howdoi/frontend/front-layout.html">布局开发</a>
    

    
</li>


		    
		    	

<li class="nav-level1  " id="迁移magento1到magento2">
    

    
    <a href="/guides/v2.1/howdoi/migrate/migrate.html">迁移Magento1到Magento2</a>
    

    
    <ul>
        
        
        
        <li class="nav-level2  " id="迁移主题">

            

            
            <a href="/guides/v2.1/howdoi/migrate/migrate-themes.html">迁移主题</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="迁移扩展">

            

            
            <a href="/guides/v2.1/howdoi/migrate/migrate-extensions.html">迁移扩展</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="代码迁移">

            

            
            <a href="/guides/v2.1/howdoi/migrate/migrate-code.html">代码迁移</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="数据迁移">

            

            
            <a href="/guides/v2.1/howdoi/migrate/migrate-data.html">数据迁移</a>
            

            
        </li>
        
        
    </ul>
    
</li>


		    
		    	

<li class="nav-level1  " id="php开发">
    

    
    <a href="/guides/v2.1/howdoi/php/php_devs.html">PHP开发</a>
    

    
</li>


		    
		    	

<li class="nav-level1  " id="主题开发">
    

    
    <a href="/guides/v2.1/howdoi/frontend/front-theme.html">主题开发</a>
    

    
</li>


		    
		    	

<li class="nav-level1  " id="magento故障排除">
    

    
    <a href="/guides/v2.1/howdoi/troubleshoot/troubleshoot.html">Magento故障排除</a>
    

    
    <ul>
        
        
        
        <li class="nav-level2  " id="重置为默认主题">

            

            
            <a href="/guides/v2.1/howdoi/troubleshoot/reset_theme.html">重置为默认主题</a>
            

            
        </li>
        
        
    </ul>
    
</li>


		    
		    	

<li class="nav-level1  " id="自定义结算页">
    

    
    <a href="/guides/v2.1/howdoi/checkout/checkout_overview.html">自定义结算页</a>
    

    
    <ul>
        
        
        
        <li class="nav-level2  " id="添加一个结算步骤">

            

            
            <a href="/guides/v2.1/howdoi/checkout/checkout_new_step.html">添加一个结算步骤</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="自定义结算页某步骤的视图">

            

            
            <a href="/guides/v2.1/howdoi/checkout/checkout_customize.html">自定义结算页某步骤的视图</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="为结算添加自定义的支付方式">

            

            
            <a href="/guides/v2.1/howdoi/checkout/checkout_payment.html">为结算添加自定义的支付方式</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="添加提交前自定义数据校验">

            

            
            <a href="/guides/v2.1/howdoi/checkout/checkout_order.html">添加提交前自定义数据校验</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="添加自定义物流校验">

            

            
            <a href="/guides/v2.1/howdoi/checkout/checkout_carrier.html">添加自定义物流校验</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="为邮编添加自定义掩码">

            

            
            <a href="/guides/v2.1/howdoi/checkout/checkout_zip.html">为邮编添加自定义掩码</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="在结算页为表单输入添加自定义模板">

            

            
            <a href="/guides/v2.1/howdoi/checkout/checkout_edit_form.html">在结算页为表单输入添加自定义模板</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="添加一个新的输入表单到结算页">

            

            
            <a href="/guides/v2.1/howdoi/checkout/checkout_form.html">添加一个新的输入表单到结算页</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="添加一个新的输入项到地址表单">

            

            
            <a href="/guides/v2.1/howdoi/checkout/checkout_new_field.html">添加一个新的输入项到地址表单</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="添加自定义物流地址渲染">

            

            
            <a href="/guides/v2.1/howdoi/checkout/checkout_address.html">添加自定义物流地址渲染</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="添加自定义影响其它输入的输入项">

            

            
            <a href="/guides/v2.1/howdoi/checkout/checkout_custom_checkbox.html">添加自定义影响其它输入的输入项</a>
            

            
        </li>
        
        
        
        
    </ul>
    
</li>


		    
		    	

<li class="nav-level1  " id="清除静态文件缓存">
    

    
    <a href="/guides/v2.1/howdoi/clean_static_cache.html">清除静态文件缓存</a>
    

    
</li>


		    
		    	

<li class="nav-level1 active " id="自定义产品创建表单">
    

    
    <a href="/guides/v2.1/howdoi/customize_product.html">自定义产品创建表单</a>
    

    
</li>


		    
		    </ul>
		</div>

	</div>

</aside>
<!-- /sidebar -->


	<section class="content">
		<div class="content-wrap">
			<!-- page-header -->
<section class="page-intro">
	

  <nav class="breadcrumbs">

    <ol class="breadcrumb list-unstyled" vocab="http://schema.org/" typeof="BreadcrumbList">

      <li class="breadcrumb-item"><a class="breadcrumb-item" href="/guides/v2.1/"><span>首页</span></a></li>

    <!-- Iteration breadcrumb item -->
    
    

    

      <!-- Skip if root -->
      

      <!-- Get breadcrumb title -->
      

      <!-- SEO data -->
      

      <li class="breadcrumb-item" property="itemListElement" typeof="ListItem">

        
          <a property="item" typeof="WebPage" href="/guides/v2.1/howdoi/bk-how-do-i.html">
            <span property="name">How To</span>
          </a>
        

        <meta property="position" content="1" />
      </li>

    

      <!-- Skip if root -->
      

      <!-- Get breadcrumb title -->
      

      <!-- SEO data -->
      

      <li class="breadcrumb-item active" property="itemListElement" typeof="ListItem">

        

          

          <span property="name">自定义产品创建表单</span>

        

        <meta property="position" content="2" />
      </li>

    

    </ol>

  </nav>



	

	

	<h1 class="page-heading">自定义产品创建表单</h1>

  


</section>

			<h2>这里有什么</h2>

<p>This topic describes how developers can customize the product creation form used on the product creation and product edit pages in <span term-uuid="29ddb393-ca22-4df9-a8d4-0024d75739b1" class="glossary-term" data-toggle="popover">Admin</span>.</p>

<p>The following image is an illustration of the default view of the form on the <strong>New Product</strong> page:</p>

<p><img src="/common/images/product_pmg.png" alt="The product creation page in Admin" /></p>

<h2 id="overview">Overview</h2>

<p>In Magento version 2.1, the product creation form was completely refactored, and implemented using the <a href="http://devdocs.magento.com/guides/v2.1/ui_comp_guide/components/ui-form.html">form UI component</a>.</p>

<p>Product attributes and attribute sets available in the form, can be customized and added under <strong>STORES</strong> &gt; <strong>Attributes</strong> in the Admin. But you can also customize the form view and behavior in code. The following sections describe what files define the form and how they can be customized in your <span term-uuid="c1e4242b-1f1a-44c3-9d72-1d5b1435e142" class="glossary-term" data-toggle="popover">模块</span>.</p>

<h2 id="先决条件">先决条件</h2>

<p><a href="/guides/v2.1/config-guide/cli/config-cli-subcommands-mode.html">Set Magento to developer mode</a> while you perform all customizations and debugging.</p>

<p>For the sake of compatibility, upgradability, and easy maintenance, do not edit the default Magento code. Instead, add your customizations in a separate module.</p>

<h2 id="customize-the-form-configuration">Customize the form configuration</h2>

<p>Customizing the form config file (that is, declarative customization) is preferable for changes like introducing new fields, field sets and modals.</p>

<p>To customize the product creation form, take the following steps:</p>

<ol>
  <li>
    <p>In your custom module, add an empty <code class="highlighter-rouge">product_form.xml</code> in the <code class="highlighter-rouge">&lt;your_module_dir&gt;/view/adminhtml/ui_component/</code> directory.</p>
  </li>
  <li>
    <p>In this file, add content similar to the following:</p>
  </li>
</ol>

<figure class="highlight"><pre><code class="language-xml" data-lang="xml"><span class="nt">&lt;form</span> <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="na">xsi:noNamespaceSchemaLocation=</span><span class="s">"urn:magento:module:Magento_Ui:etc/ui_configuration.xsd"</span><span class="nt">&gt;</span>

...

    <span class="nt">&lt;fieldset</span> <span class="na">name=</span><span class="s">"%fieldset_name%"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;argument</span> <span class="na">name=</span><span class="s">"data"</span> <span class="na">xsi:type=</span><span class="s">"array"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;item</span> <span class="na">name=</span><span class="s">"config"</span> <span class="na">xsi:type=</span><span class="s">"array"</span><span class="nt">&gt;</span>
                <span class="nt">&lt;item</span> <span class="na">name=</span><span class="s">"label"</span> <span class="na">xsi:type=</span><span class="s">"string"</span> <span class="na">translate=</span><span class="s">"true"</span><span class="nt">&gt;</span>%field set label as displayed in UI%<span class="nt">&lt;/item&gt;</span>
                <span class="nt">&lt;item</span> <span class="na">name=</span><span class="s">"sortOrder"</span> <span class="na">xsi:type=</span><span class="s">"number"</span><span class="nt">&gt;</span>%order for displaying%<span class="nt">&lt;/item&gt;</span>
            <span class="nt">&lt;/item&gt;</span>
         <span class="nt">&lt;/argument&gt;</span>
        <span class="c">&lt;!--field sets can be nested --&gt;</span>
        <span class="nt">&lt;fieldset</span> <span class="na">name=</span><span class="s">"%nested_fieldset_name%"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;argument</span> <span class="na">name=</span><span class="s">"data"</span> <span class="na">xsi:type=</span><span class="s">"array"</span><span class="nt">&gt;</span>
                <span class="nt">&lt;item</span> <span class="na">name=</span><span class="s">"config"</span> <span class="na">xsi:type=</span><span class="s">"array"</span><span class="nt">&gt;</span>
                    <span class="nt">&lt;item</span> <span class="na">name=</span><span class="s">"label"</span> <span class="na">xsi:type=</span><span class="s">"string"</span> <span class="na">translate=</span><span class="s">"true"</span><span class="nt">&gt;</span>%Nested fieldset Label as displayed in UI%<span class="nt">&lt;/item&gt;</span>
                    <span class="nt">&lt;item</span> <span class="na">name=</span><span class="s">"collapsible"</span> <span class="na">xsi:type=</span><span class="s">"boolean"</span><span class="nt">&gt;</span>true<span class="nt">&lt;/item&gt;</span>
                <span class="nt">&lt;/item&gt;</span>
            <span class="nt">&lt;/argument&gt;</span>  
            <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"%field_name%"</span><span class="nt">&gt;</span>
    			<span class="nt">&lt;argument</span> <span class="na">name=</span><span class="s">"data"</span> <span class="na">xsi:type=</span><span class="s">"array"</span><span class="nt">&gt;</span>
                    <span class="nt">&lt;item</span> <span class="na">name=</span><span class="s">"config"</span> <span class="na">xsi:type=</span><span class="s">"array"</span><span class="nt">&gt;</span>
                        <span class="nt">&lt;item</span> <span class="na">name=</span><span class="s">"%field_option1%"</span> <span class="na">xsi:type=</span><span class="s">"%option_type%"</span><span class="nt">&gt;</span>%value%<span class="nt">&lt;/item&gt;</span>
                        <span class="nt">&lt;item</span> <span class="na">name=</span><span class="s">"%field_option2%"</span> <span class="na">xsi:type=</span><span class="s">"%option_type%"</span><span class="nt">&gt;</span>%value%<span class="nt">&lt;/item&gt;</span>
....
                    <span class="nt">&lt;/item&gt;</span>
                <span class="nt">&lt;/argument&gt;</span>
            <span class="nt">&lt;/field&gt;</span>
        <span class="nt">&lt;/fieldset&gt;</span>
    <span class="nt">&lt;/fieldset&gt;</span>
...
<span class="nt">&lt;/form&gt;</span></code></pre></figure>

<h3 id="adding-new-elements">Adding new elements</h3>

<p>By default, the new elements (fields, field sets, modals, grids) which you add in the form configuration file, are displayed on the form whatever product is created; that is, for all <span term-uuid="6e836354-0067-48ac-84ce-a4ab7c0c492e" class="glossary-term" data-toggle="popover">product types</span>.</p>

<p>In the <a href="#modifier">modifier class described further</a>, you can set the conditions for displaying certain elements for certain product types.</p>

<h3 id="customizing-existing-fields-and-field-sets">Customizing existing fields and field sets</h3>
<p>Your <code class="highlighter-rouge">product_form.xml</code> is merged with the same files from the other modules. So there is no need to copy their content, you only need to define changes. Even if you want to customize the existing entities, you only have to mention those options, the values of which are customized.</p>

<p>To customize an existing entity, declare only those options, the values of which are customized, do not copy its entire configuration.</p>

<p>To delete an existing field, or field set, in your <code class="highlighter-rouge">product_form.xml</code> use the following construction:</p>

<figure class="highlight"><pre><code class="language-xml" data-lang="xml">...
    <span class="nt">&lt;fieldset</span> <span class="na">name=</span><span class="s">"%fieldset_name%"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;argument</span> <span class="na">name=</span><span class="s">"data"</span> <span class="na">xsi:type=</span><span class="s">"array"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;item</span> <span class="na">name=</span><span class="s">"disabled"</span> <span class="na">xsi:type=</span><span class="s">"boolean"</span><span class="nt">&gt;</span>true<span class="nt">&lt;/item&gt;</span>
        <span class="nt">&lt;/argument&gt;</span>
    <span class="nt">&lt;/fieldset&gt;</span>
...</code></pre></figure>

<p>For reference, view the product form configuration files of the Magento modules:</p>

<ul>
  <li><code class="highlighter-rouge">&lt;Magento_Catalog_module_dir&gt;/view/adminhtml/ui_component/product_form.xml</code></li>
  <li><code class="highlighter-rouge">&lt;Magento_CatalogInventory_module_dir&gt;/view/adminhtml/ui_component/product_form.xml</code></li>
  <li><code class="highlighter-rouge">&lt;Magento_ConfigurableProduct_module_dir&gt;view/adminhtml/ui_component/product_form.xml</code></li>
</ul>

<h2 id="modifier">Customize using a modifier class</h2>

<p><a href="/guides/v2.1/ui_comp_guide/concepts/ui_comp_modifier_concept.html">Modifier classes</a> should be used when static declaration is not applicable. For example, in cases when additional data should be loaded from database. Also, modifier is a place where you add validations to display only certain fields for certain product types.</p>

<p>In the run time, the form structure set in the modifier is merged with the configuration that comes from the <code class="highlighter-rouge">product_form.xml</code> configuration.</p>

<h3 id="general-implementation-overview">General implementation overview</h3>

<p>The <code class="highlighter-rouge">Magento\Catalog\Ui\DataProvider\Product\Form\ProductDataProvider</code> data provider class is responsible for data and metadata preparation for the product form. The pool of modifiers <code class="highlighter-rouge">Magento\Catalog\Ui\DataProvider\Product\Form\Modifier\Pool</code> (virtual type) is injected to this data provider using the <code class="highlighter-rouge">__construct()</code> method. The pool’s preference is defined in <code class="highlighter-rouge">di.xml</code>.</p>

<p>To add your custom modifier, you need to do the following:</p>

<ol>
  <li><a href="#modifier">Add the modifier code.</a></li>
  <li><a href="#pool">Add it to the modifiers’ pool in <code class="highlighter-rouge">di.xml</code></a></li>
</ol>

<h3 id="modifier">Add your modifier</h3>

<p>In your custom module directory, add the modifier class that implements the <code class="highlighter-rouge">Magento\UI\DataProvider\ModifierInterface</code> interface or extends the <code class="highlighter-rouge">Magento\Catalog\Ui\DataProvider\Product\Form\Modifier\AbstractModifier</code>class. In your modifier, the <code class="highlighter-rouge">modifyData()</code> and the <code class="highlighter-rouge">modifyMeta()</code> methods must be implemented.</p>

<p>In the modifier class, you can add UI elements using the same structure as in the <span term-uuid="8c0645c5-aa6b-4a52-8266-5659a8b9d079" class="glossary-term" data-toggle="popover">XML</span> configuration.</p>

<p>例如:</p>

<figure class="highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>

<span class="k">use</span> <span class="nx">Magento\Catalog\Ui\DataProvider\Product\Form\Modifier\AbstractModifier</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">Example</span> <span class="k">extends</span> <span class="nx">AbstractModifier</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">modifyMeta</span><span class="p">(</span><span class="k">array</span> <span class="nv">$meta</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="nv">$meta</span><span class="p">[</span><span class="s1">'test_fieldset_name'</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span>
            <span class="s1">'arguments'</span> <span class="o">=&gt;</span> <span class="p">[</span>
                <span class="s1">'data'</span> <span class="o">=&gt;</span> <span class="p">[</span>
                    <span class="s1">'config'</span> <span class="o">=&gt;</span> <span class="p">[</span>
                        <span class="s1">'label'</span> <span class="o">=&gt;</span> <span class="nx">__</span><span class="p">(</span><span class="s1">'Label For Fieldset'</span><span class="p">),</span>
                        <span class="s1">'sortOrder'</span> <span class="o">=&gt;</span> <span class="mi">50</span><span class="p">,</span>
                        <span class="s1">'collapsible'</span> <span class="o">=&gt;</span> <span class="kc">true</span>
                    <span class="p">]</span>
                <span class="p">]</span>
            <span class="p">],</span>
            <span class="s1">'children'</span> <span class="o">=&gt;</span> <span class="p">[</span>
                <span class="s1">'test_field_name'</span> <span class="o">=&gt;</span> <span class="p">[</span>
                    <span class="s1">'arguments'</span> <span class="o">=&gt;</span> <span class="p">[</span>
                        <span class="s1">'data'</span> <span class="o">=&gt;</span> <span class="p">[</span>
                            <span class="s1">'config'</span> <span class="o">=&gt;</span> <span class="p">[</span>
                                <span class="s1">'formElement'</span> <span class="o">=&gt;</span> <span class="s1">'select'</span><span class="p">,</span>
                                <span class="s1">'componentType'</span> <span class="o">=&gt;</span> <span class="s1">'field'</span><span class="p">,</span>
                                <span class="s1">'options'</span> <span class="o">=&gt;</span> <span class="p">[</span>
                                    <span class="p">[</span><span class="s1">'value'</span> <span class="o">=&gt;</span> <span class="s1">'test_value_1'</span><span class="p">,</span> <span class="s1">'label'</span> <span class="o">=&gt;</span> <span class="s1">'Test Value 1'</span><span class="p">],</span>
                                    <span class="p">[</span><span class="s1">'value'</span> <span class="o">=&gt;</span> <span class="s1">'test_value_2'</span><span class="p">,</span> <span class="s1">'label'</span> <span class="o">=&gt;</span> <span class="s1">'Test Value 2'</span><span class="p">],</span>
                                    <span class="p">[</span><span class="s1">'value'</span> <span class="o">=&gt;</span> <span class="s1">'test_value_3'</span><span class="p">,</span> <span class="s1">'label'</span> <span class="o">=&gt;</span> <span class="s1">'Test Value 3'</span><span class="p">],</span>
                                <span class="p">],</span>
                                <span class="s1">'visible'</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>
                                <span class="s1">'required'</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>
                                <span class="s1">'label'</span> <span class="o">=&gt;</span> <span class="nx">__</span><span class="p">(</span><span class="s1">'Label For Element'</span><span class="p">)</span>
                            <span class="p">]</span>
                        <span class="p">]</span>
                    <span class="p">]</span>
                <span class="p">]</span>
            <span class="p">]</span>
        <span class="p">];</span>

 <span class="k">return</span> <span class="nv">$meta</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="sd">/**
     * {@inheritdoc}
     */</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">modifyData</span><span class="p">(</span><span class="k">array</span> <span class="nv">$data</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="nv">$data</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span></code></pre></figure>

<p>You can create nested structures of elements by adding them to the <code class="highlighter-rouge">children</code> key of any element.</p>

<h3 id="pool">Add modifier to the pool</h3>
<p>In <code class="highlighter-rouge">&lt;your_module_dir&gt;/etc/adminhtml/di.xml</code> define your modifier as a dependency for <code class="highlighter-rouge">Magento\Catalog\Ui\DataProvider\Product\Form\Modifier\Pool</code>.</p>

<p>Following is an example of such definition:</p>

<p><code class="highlighter-rouge">app/code/Magento/CatalogInventory/etc/adminhtml/di.xml</code>:</p>

<figure class="highlight"><pre><code class="language-xml" data-lang="xml">     <span class="nt">&lt;virtualType</span> <span class="na">name=</span><span class="s">"Magento\Catalog\Ui\DataProvider\Product\Form\Modifier\Pool"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;arguments&gt;</span>
            <span class="nt">&lt;argument</span> <span class="na">name=</span><span class="s">"modifiers"</span> <span class="na">xsi:type=</span><span class="s">"array"</span><span class="nt">&gt;</span>
                <span class="nt">&lt;item</span> <span class="na">name=</span><span class="s">"advancedInventory"</span> <span class="na">xsi:type=</span><span class="s">"array"</span><span class="nt">&gt;</span>
                    <span class="nt">&lt;item</span> <span class="na">name=</span><span class="s">"class"</span> <span class="na">xsi:type=</span><span class="s">"string"</span><span class="nt">&gt;</span>Magento\CatalogInventory\Ui\DataProvider\Product\Form\Modifier\AdvancedInventory<span class="nt">&lt;/item&gt;</span>
                    <span class="nt">&lt;item</span> <span class="na">name=</span><span class="s">"sortOrder"</span> <span class="na">xsi:type=</span><span class="s">"number"</span><span class="nt">&gt;</span>20<span class="nt">&lt;/item&gt;</span>
                <span class="nt">&lt;/item&gt;</span>
            <span class="nt">&lt;/argument&gt;</span>
        <span class="nt">&lt;/arguments&gt;</span>
    <span class="nt">&lt;/virtualType&gt;</span></code></pre></figure>

<p>The <code class="highlighter-rouge">sortOrder</code> parameter defines the order of invocation for your <code class="highlighter-rouge">modifyData()</code> and <code class="highlighter-rouge">modifyMeta()</code> methods among other these methods of other modifiers in the pool. If a modifier is first in a pool, its <code class="highlighter-rouge">modifyData()</code> and <code class="highlighter-rouge">modifyMeta()</code> are invoked with empty arguments.</p>

<p>To access product model within your modifier, it’s recommended to use an instance of <code class="highlighter-rouge">Magento\Catalog\Model\Locator\LocatorInterface</code>.</p>

<p>For reference, view the modifier classes in the Magento modules, for example:</p>

<ul>
  <li><code class="highlighter-rouge">&lt;Magento_Catalog_module_dir&gt;/Ui/DataProvider/Product/Form/Modifier/AdvancedPricing.php</code></li>
  <li><code class="highlighter-rouge">&lt;Magento_Catalog_module_dir&gt;/Ui/DataProvider/Product/Form/Modifier/AttributeSet.php</code></li>
  <li><code class="highlighter-rouge">&lt;Magento_Catalog_module_dir&gt;/Ui/DataProvider/Product/Form/Modifier/Eav.php</code></li>
  <li><code class="highlighter-rouge">&lt;Magento_ConfigurableProduct_module_dir&gt;/Ui/DataProvider/Product/Form/Modifier/Data/AssociatedProducts.php</code></li>
</ul>

<p>For reference about setting conditions for displaying certain elements for certain product types, view <code class="highlighter-rouge">&lt;Magento_Catalog_module_dir&gt;/Ui/DataProvider/Product/Form/Modifier/Eav.php#L476</code>.</p>

<h2 id="recommended-reading">Recommended reading:</h2>

<ul>
  <li><a href="/guides/v2.1/ui_comp_guide/components/ui-form.html">Form UI component</a></li>
  <li><a href="/guides/v2.1/ui_comp_guide/concepts/ui_comp_modifier_concept.html">关于UI组件的PHP修改</a></li>
  <li><a href="/guides/v2.1/extension-dev-guide/depend-inj.html">依赖注入</a></li>
</ul>

			
		</div>
		<!-- /.content-wrap -->

		<div class="page-info">

    
  
    
    <div class="github-link">
      <a class="improve-page" href="https://github.com/magento/devdocs/blob/develop/guides/v2.1/howdoi/customize_product.md" target="_blank">
        去GitHub上编辑
      </a>
    </div>
    
  
    
    <div class="new-issue">
      <a href="https://github.com/magento/devdocs/issues/new?title=Feedback on page: /guides/v2.1/howdoi/customize_product.html" target="_blank">反馈</a>
    </div>
    
  
  </div>

	</section>
	<!-- /.content -->

</div> <!-- /.content-container -->


	</div>
	<!-- /.main-container -->
</div>
<!-- /#gl-wrapper -->

<!-- footer-->
<div class="page-footer">
  <div class="container">

    <div class="copyright-links">
      <ul class="nav footer-links">
  <li><a href="/guides/v2.1/contributor-guide/contributing_docs.html">成为贡献者</a>
  <li><a href="https://magento.github.io/glossary/index.html?audience=developer">术语表</a></li>
  <li><a href="http://magento.com/legal/terms/privacy/">隐私政策</a></li>
  <li><a href="http://magento.com/legal/terms/">服务条款</a></li>
  <li><a href="http://magento.com/legal/licensing/">许可/商标 常见问题</a></li>
  <li><a href="/guides/v2.1/release-notes/bk-release-notes.html">版本日志</a></li>
  <li><a href="/magento-third-party.html">三方许可</a></li>
</ul>

    </div>

		<div class="copyright-date">&copy; 2018 Magento. All rights reserved. translated by <a target="_blank" href="https://www.silksoftware.com">silksoftware co.ltd</a> - <a href="http://haiwera.xyz">Haiwera</a></div>

  </div>
</div>
<!-- / #footer -->


<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/algoliasearch/3/algoliasearch.min.js"></script>
<script src="/assets/js/app.min.js"></script>


<script src="/common/js/devdocs.min.js"></script>




</body>
</html>

