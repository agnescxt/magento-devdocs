<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width initial-scale=1" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<title>git push details | Magento 2 Developer Documentation</title>
	<meta name="description" content="Magento 2 Developer Documentation.
">

	<link rel="stylesheet" href="/assets/css/app.css" />
	<link rel="stylesheet" href="/assets/css/print.css" media="print"/>

	<link rel="stylesheet" href="/common/css/devdocs.css" />

	<script>
  var baseUrl = "";
  var algolia = {
    id : "E642SEDTHL",
    index:  "devdocs",
    key:  "d2d0f33ab73e291ef8d88d8b565e754c"
  };
</script>




	<link rel="canonical" href="http://localhost:4000/guides/v2.0/cloud/project/admin-git-push.html">

	<link rel="shortcut icon" type="image/vnd.microsoft.icon" href="https://magento.com/favicon.ico">
	<link rel="apple-touch-icon" type="image/png" href="https://magento.com/apple-touch-icon.png">
	<link rel="apple-touch-icon" type="image/png" sizes="57x57" href="https://magento.com/apple-touch-icon-57x57.png">
	<link rel="apple-touch-icon" type="image/png" sizes="72x72" href="https://magento.com/apple-touch-icon-72x72.png">
	<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="https://magento.com/apple-touch-icon-76x76.png">
	<link rel="apple-touch-icon" type="image/png" sizes="114x114" href="https://magento.com/apple-touch-icon-114x114.png">
	<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="https://magento.com/apple-touch-icon-120x120.png">
	<link rel="apple-touch-icon" type="image/png" sizes="144x144" href="https://magento.com/apple-touch-icon-144x144.png">
	<link rel="apple-touch-icon" type="image/png" sizes="152x152" href="https://magento.com/apple-touch-icon-152x152.png">
	<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="https://magento.com/apple-touch-icon-180x180.png">

</head>
<body class="layout-default">

	<header class="site-header">

		<nav class="site-nav">

  <div class="menu-btn">
    <a id="menu-btn" class="menu-trigger menu-icon" href="#nav-main" aria-haspopup="true" aria-controls="nav-main"></a>
  </div>

  <div class="nav-container">

    <a class="logo" href="/guides/v2.0/">
      <img src="/assets/i/m-logo.svg" alt=""><img src="/assets/i/magento-logo.svg" alt="Magento" class="magento-logo" />
      <span class="site-logo">DevDocs</span>
    </a>

    <div id="nav-main" class="nav-main-wrap" aria-labelledby="menu-btn">
      
<div class="version-switcher dropdown" data-version="2.0">
	<button id="version-switcher-button" class="btn dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
    Magento 2.0
	</button>

	<ul class="dropdown-menu dropdown-menu-left" aria-labelledby="version-switcher-button">
	
		<li><a class="dropdown-item" data-proofer-ignore href="/guides/v2.0/cloud/project/admin-git-push.html">Magento 2.0</a></li>
	
		<li><a class="dropdown-item" data-proofer-ignore href="/guides/v2.1/cloud/project/admin-git-push.html">Magento 2.1</a></li>
	
		<li><a class="dropdown-item" data-proofer-ignore href="/guides/v2.2/cloud/project/admin-git-push.html">Magento 2.2</a></li>
	
		<li><a class="dropdown-item" data-proofer-ignore href="/guides/v2.3/cloud/project/admin-git-push.html">Magento 2.3 Pre-release</a></li>
	
  </ul>

</div>


      <!-- Main Navigation -->
<ul class="nav-main" role="menubar">

  <li class="nav-main-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span tabindex="-1">部署</span>

    <div class="nav-popup" role="menu" aria-hidden="true">
      <ul>
          <li><a href="/guides/v2.0/install-gde/bk-install-guide.html">安装向导</a></li>
          
          <li><a href="/guides/v2.0/comp-mgr/bk-compman-upgrade-guide.html">组件管理和系统升级手册</a></li>
          
          <li><a href="/guides/v2.0/config-guide/bk-config-guide.html">配置手册</a></li>
          
          <li><a href="/guides/v2.0/migration/bk-migration-guide.html">迁移指引</a></li>
          <li><a href="/guides/v2.0/cloud/bk-cloud.html">上云指引</a></li>
          <li><a href="/magento-release-information.html">版本日志</a></li>
      </ul>
    </div>

  </li>


  <li class="nav-main-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span tabindex="-1">开发</span>

    <div class="nav-popup" role="menu" aria-hidden="true">

      <div class="nav-section">
        <div class="nav-section-title">服务端</div>
        <ul>
          <li><a href="/guides/v2.0/architecture/bk-architecture.html">架构说明</a></li>
          <li><a href="/guides/v2.0/extension-dev-guide/bk-extension-dev-guide.html">PHP开发文档</a></li>
          <li><a href="/guides/v2.0/ext-best-practices/bk-ext-best-practices.html">扩展开发实践</a></li>
          <li><a href="/guides/v2.0/mrg/intro.html">各模块介绍</a></li>
          <li><a href="/guides/v2.0/coding-standards/bk-coding-standards.html">编码规范</a></li>
          <li><a href="/guides/v2.0/contributor-guide/contributing.html">贡献指引</a></li>
        </ul>
      </div>

      <div class="nav-section">
        <div class="nav-section-title">前端</div>
        <ul>
          <li class=""><a href="/guides/v2.0/frontend-dev-guide/bk-frontend-dev-guide.html">前端工程师手册</a></li>
          
          <li><a href="/guides/v2.0/ui-components/ui-component.html">UI组件</a></li>
          
          <li><a href="/guides/v2.0/javascript-dev-guide/bk-javascript-dev-guide.html">JavaScript开发手册</a></li>
          <li><a href="/guides/v2.0/pattern-library/bk-pattern.html">管理面板设计模式及所用库</a></li>
          <li><a href="/guides/v2.0/design-styleguide/bk-styleguide.html">管理面板样式手册</a></li>
          <li><a href="https://magento-research.github.io/pwa-devdocs/">PWA Studios</a></li>
        </ul>
      </div>

      <div class="nav-section">
        <div class="nav-section-title"><abbr>API</abbr></div>
        <ul>
          <li><a href="/guides/v2.0/get-started/bk-get-started-api.html">Web APIs起步</a></li>
          <li><a href="/guides/v2.0/rest/bk-rest.html">REST API参考</a></li>
          <li><a href="/guides/v2.0/soap/bk-soap.html">SOAP API参考</a></li>
          
          
        </ul>
      </div>
    </div>

  </li>


  <li class="nav-main-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span tabindex="-1">测试</span>

    <div class="nav-popup" role="menu" aria-hidden="true">
      <ul>
        <li><a href="/guides/v2.0/test/testing.html">Magento测试手册</a></li>
        
        <li><a href="/guides/v2.0/mtf/mtf_introduction.html">功能测试</a></li>
        <li><a href="/guides/v2.0/test/integration/integration_test_execution.html">集成测试</a></li>
        <li><a href="/guides/v2.0/test/js/jasmine.html">JavaScript单元测试</a></li>
        <li><a href="/guides/v2.0/test/unit/unit_test_execution.html">PHP单元测试</a></li>
        <li><a href="/guides/v2.0/get-started/web-api-functional-testing.html">Web API功能测试</a></li>
      </ul>
    </div>

  </li>


  <li class="nav-main-separator"></li>


  <li class="nav-main-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span tabindex="-1">功能文档</span>

    <div class="nav-popup" role="menu" aria-hidden="true">
      <ul>
          
        
        <li><a href="/guides/v2.0/howdoi/checkout/checkout_overview.html">Checkout</a></li>
        <li><a href="/guides/v2.0/payments-integrations/bk-payments-integrations.html">支付集成</a></li>
        
      </ul>
    </div>

  </li>


  <li class="nav-main-item"  tabindex="0" role="menuitem" aria-haspopup="true">
    <span tabindex="-1">指引</span>

    <div class="nav-popup" role="menu" aria-hidden="true">
      <ul>
        <li><a href="/guides/v2.0/howdoi/bk-how-do-i.html">如何</a></li>
        

        <li><a href="/videos/">视频教程</a></li>
      </ul>
    </div>

  </li>

</ul><!-- /.nav-main -->

    </div>

    <div class="search-btn">
      <a class="search-trigger search-icon" href="#"></a>
    </div>

    <form class="quick-search" action="/guides/v2.0/search.html" method="get" novalidate="novalidate">
      <input type="search" name="q" placeholder="Search" />
      <a href="#" class="quick-search-close">&times;</a>
    </form>

  </div>

</nav><!-- #site-nav -->
<div class="nav-main-fader"></div>


	</header>

	<div class="global-wrapper">

		<div class="main-container">
			<a id="main-content"></a>


<div class="content-container">

	<!-- sidebar -->
<aside class="sidebar">
	<a href="#" data-proofer-ignore class="toc-toggler">内容表格</a>
	<div class="sidebar-wrapper">

		

		<h4 class="guide-title"></h4>
		<div class="collapsible-navigation">
		    <ul>
		    
		    </ul>
		</div>

	</div>

</aside>
<!-- /sidebar -->


	<section class="content">
		<div class="content-wrap">
			<!-- page-header -->
<section class="page-intro">
	

  <nav class="breadcrumbs">

    <ol class="breadcrumb list-unstyled" vocab="http://schema.org/" typeof="BreadcrumbList">

      <li class="breadcrumb-item"><a class="breadcrumb-item" href="/guides/v2.0/"><span>首页</span></a></li>

    <!-- Iteration breadcrumb item -->
    
    

    

    </ol>

  </nav>



	

	

	<h1 class="page-heading">git push details</h1>

  


</section>

			<h1 id="step-by-step-walk-through-of-git-push-output">Step by step walk-through of <code class="highlighter-rouge">git push</code> output</h1>
<p>To better grasp what is happening here, we will show you what the output of the <code class="highlighter-rouge">git push</code> command might look like with Magento企业版(云支持版).</p>

<p>For this example, we use a sample PHP project with multiple data backends, MySQL, Redis, and Elasticsearch. It has its PHP dependencies in a <code class="highlighter-rouge">composer.json</code> file. It uses the Ruby library <code class="highlighter-rouge">sass</code> to compile the SCSS during its build process.</p>

<p>A developer wants to work on a new feature for the store. They created a new environment by running <code class="highlighter-rouge">magento-cloud environment:branch maximal</code>, where <code class="highlighter-rouge">maximal</code> is the name of the branch.</p>

<p>After modifying some files, the developer pushed the changes using:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ git push
</code></pre></div></div>

<p>This is what the output looks like:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Counting objects: 4, done.
Delta compression using up to 4 threads.
Compressing objects: 100% (4/4), done.
Writing objects: 100% (4/4), 428 bytes | 0 bytes/s, done.
Total 4 (delta 3), reused 0 (delta 0)
</code></pre></div></div>

<p>This was the normal output you would expect from a git server. If a conflict occurred, an error would have displayed and recommended resolving before pushing again.</p>

<h2 id="validating-submodules">Validating submodules</h2>

<p>Magento企业版(云支持版) supports git submodules and supports multiple applications. You can have multiple applications, each in its own git repository, but have a single production environment for all of them. In this case we only have a single application and no git submodule.</p>

<p>The output for each deployed application would have been similar to what you see below for a single application.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Validating configuration files.
</code></pre></div></div>

<p>Magento企业版(云支持版) now checks that your configuration files make sense. Errors display if you used tabs instead of spaces in your yaml files. It does many other validations and tries to provide you with useful error messages.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Processing activity: **Shelly** pushed to **maximal**
    Found 1 new commit.
</code></pre></div></div>

<p>Now, the deployment process starts building your application(s).</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Building application 'myapp' (runtime type: php, tree: 551ee89)
    Generating runtime configuration.
</code></pre></div></div>

<p>Based on what you put in your <code class="highlighter-rouge">.magento.app.yaml</code>, it is going to build for each application a container with the correct configuration.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Installing build dependencies...
    Installing ruby build dependencies: sass
</code></pre></div></div>

<p>In this case we have a dependency on the Ruby  <code class="highlighter-rouge">sass</code> <span term-uuid="08968dbb-2eeb-45c7-ae95-ffca228a7575" class="glossary-term" data-toggle="popover">library</span> so it has installed it. (Again, this comes from <code class="highlighter-rouge">.magento.app.yaml</code>.)</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Found a `composer.json`, installing dependencies.
</code></pre></div></div>

<p>Magento企业版(云支持版) found <code class="highlighter-rouge">composer.json</code>, so it is going to automatically fetch and install all the PHP dependencies.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Executing post-build hook...
    Building...
    Success!
</code></pre></div></div>

<p>We supplied a build hook in <code class="highlighter-rouge">.magento.app.yaml</code> (here it is transforming SCSS files to CSS). It is a good time to run  anything that needs to change the main file system. (Because after the build hook, the file system becomes read-only.)</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Executing pre-flight checks...
</code></pre></div></div>

<p>Magento企业版(云支持版) just ran some static security checks on the code. There are some vulnerabilities it will refuse to deploy. (You can force it, but it’s not a good idea.)</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Compressing application.
Beaming package to its final destination.
</code></pre></div></div>

<p>Building is over. Magento企业版(云支持版) creates an archive of the application and is going to send it to one of the hosts on the grid where it will be mounted.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Re-deploying environment mswy7hzcuhcjy-maximal.
</code></pre></div></div>

<p>The environment with all its applications has been deployed (here there is just one) and Magento企业版(云支持版) will now give you an overview of its configuration.</p>

<p>You will not be able to see output from the “deploy” hook as these happen in the context of the deployed application. But you could SSH to the environment and inspect the log files.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Environment configuration:
    myapp (type: php, size: S, disk: 200)
    cache (type: redis, size: S)
    database (type: mysql, size: S, disk: 200)
    moarsearch (type: Elasticsearch, size: S, disk: 200)
</code></pre></div></div>

<p>We can see the five different data backends were deployed (started, and initialized with the data from the parent environment). Magento企业版(云支持版) also  configured the network so your application container can access them.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Environment routes:
    http://maximal-mswy7hzcuhcjy.example.magento.com/ is served by application `myapp`
    http://www---maximal-mswy7hzcuhcjy.example.magento.com/ redirects to http://maximal-mswy7hzcuhcjy.example.magento.com/
    https://maximal-mswy7hzcuhcjy.example.magento.com/ is served by application `myapp`
    https://www---maximal-mswy7hzcuhcjy.example.magento.com/ redirects to http://maximal-mswy7hzcuhcjy.example.magento.com/
</code></pre></div></div>

<p>Finally, Magento企业版(云支持版) gives you the different routes that are served by your application. Here you can see the “mangled” routes on a non-live environment where the <code class="highlighter-rouge">www.</code> part was replaced by <code class="highlighter-rouge">www---</code> you can visit those in a browser. The site is live.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>To mswy7hzcuhcjy@git.example.magento.com:mswy7hzcuhcjy.git
    31ed214..f32e741  maximal -&gt; maximal
</code></pre></div></div>

<p>At the end, we are back to some normal git output. The server tells you at what commit level it is now.</p>

			
		</div>
		<!-- /.content-wrap -->

		<div class="page-info">

    
  
    
    <div class="github-link">
      <a class="improve-page" href="https://github.com/magento/devdocs/blob/develop/guides/v2.0/cloud/project/admin-git-push.md" target="_blank">
        去GitHub上编辑
      </a>
    </div>
    
  
    
    <div class="new-issue">
      <a href="https://github.com/magento/devdocs/issues/new?title=Feedback on page: /guides/v2.0/cloud/project/admin-git-push.html" target="_blank">反馈</a>
    </div>
    
  
  </div>

	</section>
	<!-- /.content -->

</div> <!-- /.content-container -->


	</div>
	<!-- /.main-container -->
</div>
<!-- /#gl-wrapper -->

<!-- footer-->
<div class="page-footer">
  <div class="container">

    <div class="copyright-links">
      <ul class="nav footer-links">
  <li><a href="/guides/v2.0/contributor-guide/contributing_docs.html">成为贡献者</a>
  <li><a href="https://magento.github.io/glossary/index.html?audience=developer">术语表</a></li>
  <li><a href="http://magento.com/legal/terms/privacy/">隐私政策</a></li>
  <li><a href="http://magento.com/legal/terms/">服务条款</a></li>
  <li><a href="http://magento.com/legal/licensing/">许可/商标 常见问题</a></li>
  <li><a href="/guides/v2.0/release-notes/bk-release-notes.html">版本日志</a></li>
  <li><a href="/magento-third-party.html">三方许可</a></li>
</ul>

    </div>

		<div class="copyright-date">&copy; 2018 Magento. All rights reserved.</div>

  </div>
</div>
<!-- / #footer -->


<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/algoliasearch/3/algoliasearch.min.js"></script>
<script src="/assets/js/app.min.js"></script>


<script src="/common/js/devdocs.min.js"></script>




</body>
</html>

